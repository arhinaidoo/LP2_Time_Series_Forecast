(self.webpackChunklite=self.webpackChunklite||[]).push([[8908],{53690:(e,n,t)=>{"use strict";t.d(n,{Z:()=>l});var i=t(67294);function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var o=i.createElement("path",{d:"M10.48 2c2.4 0 4.4.82 6.04 2.46A8.2 8.2 0 0 1 19 10.5c0 2.39-.81 4.38-2.43 5.96A8.4 8.4 0 0 1 10.49 19c-2.3 0-4.3-.83-5.98-2.5C2.84 14.82 2 12.83 2 10.5s.83-4.34 2.5-6.04A8.14 8.14 0 0 1 10.48 2zm.03 1.53c-1.93 0-3.56.68-4.9 2.04a6.84 6.84 0 0 0-.01 9.82 6.71 6.71 0 0 0 4.92 2.06c1.89 0 3.54-.69 4.94-2.07a6.47 6.47 0 0 0 2-4.87c0-1.93-.67-3.57-2.03-4.93a6.72 6.72 0 0 0-4.91-2.03zM12.8 8.4v3.48h-.97v4.12H9.18v-4.12h-.97V8.39A.53.53 0 0 1 8.37 8a.53.53 0 0 1 .39-.16h3.49c.14 0 .27.06.38.16a.52.52 0 0 1 .16.39zM9.32 6.2c0-.8.39-1.2 1.18-1.2.79 0 1.18.4 1.18 1.2 0 .8-.4 1.19-1.18 1.19-.79 0-1.18-.4-1.18-1.18z",fillRule:"evenodd"});const l=function(e){return i.createElement("svg",a({width:21,height:21},e),o)}},78271:(e,n,t)=>{"use strict";t.d(n,{Z:()=>l});var i=t(67294);function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var o=i.createElement("path",{d:"M10.48 2c2.4 0 4.4.82 6.04 2.46C18.18 6.1 19 8.11 19 10.5s-.81 4.38-2.43 5.96A8.4 8.4 0 0 1 10.49 19c-2.31 0-4.3-.84-5.98-2.52A8.16 8.16 0 0 1 2 10.5c0-2.33.83-4.34 2.5-6.04A8.14 8.14 0 0 1 10.48 2zM3.91 8.2a6.68 6.68 0 0 0-.38 2.3c0 1.88.7 3.51 2.07 4.89a6.77 6.77 0 0 0 4.92 2.05c1.9 0 3.56-.7 4.94-2.08a6.2 6.2 0 0 0 1.17-1.5l-3.2-1.42c-.1.54-.38.98-.8 1.32a2.8 2.8 0 0 1-1.53.58v1.3h-.98v-1.3a3.95 3.95 0 0 1-2.58-1.02l1.16-1.18c.56.51 1.19.77 1.9.77.3 0 .54-.07.75-.2.2-.13.31-.35.31-.65a.66.66 0 0 0-.23-.52l-.82-.35-1-.45-1.35-.6L3.92 8.2zm6.6-4.68a6.6 6.6 0 0 0-4.9 2.05 8 8 0 0 0-.94 1.14l3.25 1.45c.14-.44.41-.8.8-1.07a2.68 2.68 0 0 1 1.39-.44V5.33h.98v1.3c.78.04 1.49.3 2.13.8L12.1 8.56c-.48-.33-.96-.5-1.46-.5-.26 0-.5.05-.7.15-.21.1-.31.28-.31.52 0 .07.02.14.07.2l1.08.49.75.33 1.37.6 4.36 1.94c.14-.6.22-1.21.22-1.83 0-1.95-.67-3.6-2.03-4.93a6.64 6.64 0 0 0-4.92-2.05z",fillRule:"evenodd"});const l=function(e){return i.createElement("svg",a({width:21,height:21},e),o)}},50344:(e,n,t)=>{"use strict";t.d(n,{Z:()=>l});var i=t(67294);function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var o=i.createElement("path",{d:"M10.48 2c2.38 0 4.4.82 6.04 2.47A8.17 8.17 0 0 1 19 10.5a8.1 8.1 0 0 1-2.43 5.98A8.39 8.39 0 0 1 10.49 19c-2.3 0-4.3-.83-5.99-2.5a8.18 8.18 0 0 1-2.5-6 8.3 8.3 0 0 1 2.5-6.03A8.15 8.15 0 0 1 10.48 2zm.03 1.53a6.6 6.6 0 0 0-4.9 2.05 6.78 6.78 0 0 0-2.08 4.92c0 1.9.7 3.52 2.07 4.89a6.71 6.71 0 0 0 4.91 2.06c1.9 0 3.55-.69 4.95-2.07a6.5 6.5 0 0 0 2-4.87c0-1.94-.67-3.58-2.03-4.9a6.67 6.67 0 0 0-4.91-2.06zm3.2 4.97v1.45H7.55V8.5h6.18zm0 2.73v1.45H7.55v-1.45h6.18z",fillRule:"evenodd"});const l=function(e){return i.createElement("svg",a({width:21,height:21},e),o)}},8969:(e,n,t)=>{"use strict";t.d(n,{Z:()=>l});var i=t(67294);function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var o=i.createElement("path",{d:"M10.48 2c2.38 0 4.4.82 6.04 2.47A8.17 8.17 0 0 1 19 10.5a8.1 8.1 0 0 1-2.43 5.98A8.39 8.39 0 0 1 10.49 19c-2.3 0-4.3-.83-5.99-2.5a8.18 8.18 0 0 1-2.5-6c0-2.32.83-4.33 2.5-6.03A8.15 8.15 0 0 1 10.48 2zm.03 1.53a6.6 6.6 0 0 0-4.9 2.05 6.79 6.79 0 0 0-2.08 4.92c0 1.9.7 3.52 2.07 4.89a6.71 6.71 0 0 0 4.92 2.06c1.89 0 3.54-.7 4.94-2.08a6.5 6.5 0 0 0 2-4.87c0-1.94-.67-3.58-2.03-4.92a6.64 6.64 0 0 0-4.91-2.05zM6.72 9.3a3.8 3.8 0 0 1 1.26-2.42 3.7 3.7 0 0 1 2.47-.86c1.34 0 2.4.43 3.2 1.3a4.7 4.7 0 0 1 1.18 3.3c0 1.3-.41 2.4-1.23 3.26a4.2 4.2 0 0 1-3.2 1.3 3.8 3.8 0 0 1-2.48-.87 3.7 3.7 0 0 1-1.26-2.46H8.8c.05 1.03.67 1.55 1.87 1.55.6 0 1.08-.26 1.44-.78.36-.52.54-1.21.54-2.07 0-.9-.17-1.6-.5-2.06a1.68 1.68 0 0 0-1.45-.71c-1.14 0-1.77.5-1.92 1.5h.62l-1.68 1.68-1.68-1.68h.66z",fillRule:"evenodd"});const l=function(e){return i.createElement("svg",a({width:21,height:21},e),o)}},45957:(e,n,t)=>{"use strict";t.d(n,{Z:()=>l});var i=t(67294);function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var o=i.createElement("g",{fillRule:"evenodd"},i.createElement("path",{d:"M10.5 5.68c-2.76 0-3.46 2.61-3.46 4.82 0 2.21.7 4.82 3.46 4.82s3.46-2.6 3.46-4.82c0-2.21-.7-4.82-3.46-4.82zm0 1.82c.11 0 .21 0 .31.04.2.17.3.4.1.73l-1.83 3.38A9.1 9.1 0 0 1 9 10.49c0-.98.07-3 1.5-3zm1.38 1.55c.1.52.1 1.06.1 1.44 0 .97-.06 3-1.48 3-.11 0-.22-.01-.31-.04l-.06-.02-.1-.03c-.31-.14-.51-.38-.22-.81l2.06-3.55z"}),i.createElement("path",{d:"M10.48 2c-2.36 0-4.34.82-5.96 2.47a8.6 8.6 0 0 0-1.88 2.8A8.35 8.35 0 0 0 2 10.5c0 1.13.21 2.21.64 3.23a8.58 8.58 0 0 0 1.85 2.76 8.84 8.84 0 0 0 2.76 1.87 8.4 8.4 0 0 0 3.23.64c1.13 0 2.22-.22 3.27-.66a8.7 8.7 0 0 0 2.82-1.88 7.72 7.72 0 0 0 1.81-2.68A8.62 8.62 0 0 0 19 10.5a8.6 8.6 0 0 0-.62-3.27 8.12 8.12 0 0 0-1.82-2.74A8.3 8.3 0 0 0 10.48 2zm.04 1.53a6.7 6.7 0 0 1 4.93 2.05 6.81 6.81 0 0 1 1.5 2.25 6.97 6.97 0 0 1 .52 2.67c0 1.95-.67 3.57-2 4.87a7.33 7.33 0 0 1-2.31 1.54 6.92 6.92 0 0 1-5.29 0 7.17 7.17 0 0 1-2.26-1.51 7.33 7.33 0 0 1-1.55-2.27 6.8 6.8 0 0 1 0-5.3 7.3 7.3 0 0 1 1.55-2.28 6.6 6.6 0 0 1 4.9-2.03z"}));const l=function(e){return i.createElement("svg",a({width:21,height:21},e),o)}},93143:(e,n,t)=>{"use strict";t.d(n,{x:()=>q});var i=t(319),a=t.n(i),o=t(27628),l=t(69973),r=t(22223),d=t(18821),s=t(9970),c=t(57831),m=t(1279),u=t(84492),p=t(84683),k=t(89080),v={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostAuthorInfo_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"Field",name:{kind:"Name",value:"mediumMemberAt"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsVerifiedBookAuthor_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherName_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherFollowersCount_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherDescription_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"FollowAndSubscribeButtons_user"}}]}}].concat(a()(d.H.definitions),a()(s.g.definitions),a()(c.h.definitions),a()(m.m.definitions),a()(u.i.definitions))},g={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostAuthorInfo_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"editors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionAvatar_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionLinkWithPopover_collection"}}]}}].concat(a()(p.d.definitions),a()(k.W.definitions))},f=t(24176),S=t(55193),N=t(66862),y=t(75865),h=t(75990),b=t(6177),F={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterPromo_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3Promo_publisher_Collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useShowCollectionNewsletterV3Promo_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3Promo_publisher_User"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_post"}}]}}]}}].concat(a()(y.kD.definitions),a()(h.P.definitions),a()(y.WZ.definitions),a()(b.b.definitions))},E=t(4966),x=t(36299),w=t(27448),P=t(31228),I=t(4088),C=t(51277),_=t(16606),O=t(41190),T=t(68216),D=t(32934),A={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostJsonLd_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"seoTitle"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"logo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}},{kind:"Field",name:{kind:"Name",value:"originalHeight"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}},{kind:"Field",name:{kind:"Name",value:"originalHeight"}}]}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"updatedAt"}},{kind:"Field",name:{kind:"Name",value:"isShortform"}},{kind:"Field",name:{kind:"Name",value:"shortformType"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getTitleForPost_post"}}]}}].concat(a()(T.$m.definitions),a()(D.bq.definitions))},R=t(97849),M={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostMetadata_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"socialTitle"}},{kind:"Field",name:{kind:"Name",value:"socialDek"}},{kind:"Field",name:{kind:"Name",value:"noIndex"}},{kind:"Field",name:{kind:"Name",value:"curationStatus"}},{kind:"Field",name:{kind:"Name",value:"canonicalUrl"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"metaDescription"}},{kind:"Field",name:{kind:"Name",value:"latestPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"isLimitedState"}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"twitterScreenName"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"twitterUsername"}},{kind:"Field",name:{kind:"Name",value:"facebookPageId"}}]}},{kind:"Field",name:{kind:"Name",value:"previewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"alt"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}},{kind:"Field",name:{kind:"Name",value:"originalHeight"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}}]}},{kind:"Field",name:{kind:"Name",value:"isShortform"}},{kind:"Field",name:{kind:"Name",value:"noIndex"}},{kind:"Field",name:{kind:"Name",value:"curationStatus"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostJsonLd_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"postMetaDescription_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"shortformPostMetaDescription_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"shouldIndexPost_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"shortformPostTitle_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getTitleDetails_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getTitleForPost_post"}}]}}].concat(a()(T.$m.definitions),a()(A.definitions),a()(R.i.definitions),a()(R.m.definitions),a()(D.HF.definitions),a()(D.Pz.definitions),a()(D.dm.definitions),a()(D.bq.definitions))},B={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostFooterCollectionButton_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}}]}}].concat(a()(T.nf.definitions))},L=t(78693),j=t(93647),V=t(71069),U=t(19308),H={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostFooterBylineAurora_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"bio"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserFollowButton_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"auroraHooks_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserSubscribeButton_user"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionFollowButton_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserFollowButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionFollowButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_post"}}]}}].concat(a()(L.s.definitions),a()(j.C.definitions),a()(T.$m.definitions),a()(V.w.definitions),a()(U.I.definitions),a()(T.nf.definitions),a()(L.S.definitions),a()(U.b.definitions),a()(b.b.definitions))},G=t(97576),z={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Footer_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostFooterCollectionButton_collection"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostFooterBylineAurora_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostNextFiveStories_post"}}]}}].concat(a()(B.definitions),a()(H.definitions),a()(G.Y.definitions))},W={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostFooterInfo_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"license"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostFooterTags_post"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostFooterTags_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"tags"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"displayTitle"}},{kind:"Field",name:{kind:"Name",value:"normalizedTagSlug"}}]}}]}}]))},Y=t(22836),Z=t(59966),q={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostPageQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}},type:{kind:"NamedType",name:{kind:"Name",value:"PostMeteringOptions"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"awardType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AwardType"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isSingleColumnLayout"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postResult"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostResultError_postResult"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"canonicalUrl"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"googleAnalyticsId"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostCollectionHeader_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherHeader_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostAuthorInfo_collection"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isSingleColumnLayout"}}}]}]}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}},{kind:"Field",name:{kind:"Name",value:"validatedShareKey"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MastodonVerificationLink_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherHeader_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SuspendedBannerLoader_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostAuthorInfo_user"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isSingleColumnLayout"}}}]}]}]}},{kind:"Field",name:{kind:"Name",value:"customStyleSheet"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CustomThemeProvider_customStyleSheet"}}]}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"license"}},{kind:"Field",name:{kind:"Name",value:"collaborators"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostCollectionHeader_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterPromo_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Wall_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"InteractivePostBody_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"WithResponsesSidebar_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostCanonicalizer_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostFooterActionsBar_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostHeader_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBylineHeader_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostReadTracker_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostUrl_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"buildBranchViewData_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostMetadata_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SuspendedBannerLoader_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Footer_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuButtonWithNegativeSignal_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostFooterInfo_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBodyInserts_post"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isSingleColumnLayout"}}}]}]},{kind:"FragmentSpread",name:{kind:"Name",value:"PostNoteMissingToast_post"}},{kind:"Field",alias:{kind:"Name",value:"countToShowAwardBadge"},name:{kind:"Name",value:"awards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"awardType"}}},{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]}}].concat(a()(o.i.definitions),a()(l.P.definitions),a()(r.L.definitions),a()(g.definitions),a()(f.G.definitions),a()(S.v.definitions),a()(v.definitions),a()(N.K.definitions),a()(l.Q.definitions),a()(F.definitions),a()(E.r.definitions),a()(x.Uw.definitions),a()(w.y.definitions),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostCanonicalizer_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mediumUrl"}}]}}]),a()(P.R.definitions),a()(_.Z.definitions),a()(O.C.definitions),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostReadTracker_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"sequence"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sequenceId"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}}]}}]),a()(I.u.definitions),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"buildBranchViewData_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"layerCake"}},{kind:"Field",name:{kind:"Name",value:"primaryTopic"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}}]}}]),a()(M.definitions),a()(S.Q.definitions),a()(z.definitions),a()(C.v.definitions),a()(W.definitions),a()(Y.C.definitions),a()(Z.x.definitions))}},61280:(e,n,t)=>{"use strict";t.d(n,{X:()=>u});var i=t(64718),a=t(77280),o=t(43487),l=t(50458),r=t(319),d=t.n(r),s=t(4966),c=t(16606),m={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"usePostPageMeterQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}},type:{kind:"NamedType",name:{kind:"Name",value:"PostMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"meterPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}},{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"postIds"}},{kind:"Field",name:{kind:"Name",value:"maxUnlockCount"}},{kind:"Field",name:{kind:"Name",value:"unlocksRemaining"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Wall_meteringInfo"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostHeader_meteringInfo"}}]}}]}}]}}].concat(d()(s.Y.definitions),d()(c.X.definitions))};function u(e){var n=e.params,t=e.skip,r={referrer:(0,o.v9)((function(e){return e.navigation.referrer})),sk:(0,a.G1)(),source:(0,a.PM)()},d=(0,l.mr)({params:n||{}})||"";return(0,i.a)(m,{variables:{postId:d,postMeteringOptions:r},ssr:!1,skip:t})}},98598:(e,n,t)=>{"use strict";t.d(n,{g:()=>r});var i=t(319),a=t.n(i),o=t(84683),l=t(19308),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionTooltip_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"subscriberCount"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionAvatar_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionFollowButton_collection"}}]}}].concat(a()(o.d.definitions),a()(l.I.definitions))}},32931:(e,n,t)=>{"use strict";t.d(n,{j:()=>I});var i=t(63038),a=t.n(i),o=t(67154),l=t.n(o),r=t(6479),d=t.n(r),s=t(18446),c=t.n(s),m=t(67294),u=t(18733),p=t(77355),k=t(21755),v=t(31889),g=t(14646),f=t(77241),S=t(17583),N=t(6280),y=function(e){return{position:"sticky",opacity:e?1:0,visibility:e?"visibile":"hidden",display:"flex",justifyContent:"center",transition:"opacity 300ms",zIndex:f.ZP.selectionMenu}},h={bottom:"16px"},b=function(e,n){return function(t){return{bottom:e?"0":"16px","> div":{transform:"translateY(".concat(n,"px)"),borderTop:e?"solid 1px ".concat(t.baseColor.background.normal):void 0}}}},F=function(e){var n=e.margin,t=void 0===n?"0 16px":n;return m.createElement(p.x,{margin:t,height:"12px",borderRight:"BASE_LIGHTER"})},E=function(e){var n=e.isSingleColumn,t=d()(e,["isSingleColumn"]);return m.createElement(p.x,l()({display:"flex",flexBasis:n?"0":void 0,flexGrow:n?"1":void 0,flexShrink:n?"1":void 0,justifyContent:n?"center":void 0,alignItems:"center"},t))},x=(0,m.memo)((function(e){var n=e.multiVoteButton,t=e.responsesButton,i=e.saveButton,a=e.allowResponses,o=e.isSingleColumn,l=a||o,r=(0,v.F)(),d=(0,u.Uo)().baseTheme,s=(0,m.useMemo)((function(){return r.backgroundColor!==d.backgroundColor||!c()(r.baseColor.background,d.baseColor.background)}),[r,d]);return m.createElement(p.x,{width:o?"100%":void 0,justifyContent:o?"stretch":void 0,display:"flex",backgroundColor:"BACKGROUND",alignItems:"center",borderRadius:o?"0":"20px",border:s&&!o?"BASE_LIGHTER":"NONE",padding:o?"0":"0 14px 0 16px",height:o?"48px":"40px",boxShadow:o?void 0:"0px 2px 10px 0px rgba(0, 0, 0, 0.1)"},m.createElement(E,{isSingleColumn:o},n),l&&m.createElement(E,{isSingleColumn:o},!o&&m.createElement(F,null),t),i&&m.createElement(m.Fragment,null,!o&&m.createElement(F,{margin:"0 12px 0 16px"}),m.createElement(E,{isSingleColumn:o},i)))})),w=function(e){var n=e.children,t=(0,g.I)(),i=(0,N.$)(!0),a=i.dockRef,o=i.markerRef,l=i.isStuck;return m.createElement(m.Fragment,null,m.createElement("div",{ref:o}),m.createElement("div",{ref:a,className:t([y(l),h])},n))},P=function(e){var n=e.children,t=e.isSingleColumn,i=(0,g.I)(),o=(0,m.useRef)(),l=(0,m.useState)(0),r=a()(l,2),d=r[0],s=r[1],c=(0,m.useCallback)((function(e){s((function(n){return Math.max(Math.min(n+e,56),0)}))}),[s]),u=(0,m.useCallback)((function(){var e,n=null===(e=v.current)||void 0===e?void 0:e.getBoundingClientRect().y;window.scrollY>0&&o.current&&n&&c(o.current-n),o.current=n}),[c]),p=(0,N.$)(!0,u),k=p.dockRef,v=p.markerRef,f=p.isStuck;return m.createElement(m.Fragment,null,m.createElement("div",{ref:v}),m.createElement("div",{ref:k,className:i([y(f),b(t,d)])},n))},I=function(e){var n=e.isSingleColumn,t=(0,S.s)(),i=(0,m.useMemo)((function(){return!(n||t&&t!==k.j.xl)}),[t,n]),a=(0,m.useMemo)((function(){return n?t===k.j.xs||t===k.j.sm:t!==k.j.xl}),[t,n]);return i?m.createElement(w,null,m.createElement(x,e)):a?m.createElement(P,{isSingleColumn:!!n},m.createElement(x,l()({isSingleColumn:n},e))):null}},6280:(e,n,t)=>{"use strict";t.d(n,{$:()=>r});var i=t(63038),a=t.n(i),o=t(67294),l=t(34135),r=function(e,n){var t=(0,o.useRef)(null),i=(0,o.useRef)(null),r=(0,o.useState)(!0),d=a()(r,2),s=d[0],c=d[1];return(0,o.useEffect)((function(){var a=function(){var e,a,o=null===(e=t.current)||void 0===e?void 0:e.getBoundingClientRect().y,l=null===(a=i.current)||void 0===a?void 0:a.getBoundingClientRect().y;o&&l&&c(Boolean(l-o)),null==n||n()};if(a(),e)return l.V6.on("scroll",a),function(){l.V6.off("scroll",a)}}),[e]),{isStuck:e&&s,dockRef:t,markerRef:i}}},60672:(e,n,t)=>{"use strict";t.d(n,{e:()=>u});var i=t(67294),a=t(27517),o=t(18702),l=t(25550),r=t(6443),d=t(98067),s=t(77280),c=t(43487),m=t(55765),u=function(e){var n=e.data,t=void 0===n?{}:n,u=e.isBlocked,p=void 0!==u&&u,k=e.loading,v=e.show,g=t.canonicalUrl,f=t.collectionViewerEdge,S=t.creatorViewerEdge,N=t.meteringInfo,y=t.pageType,h=t.post,b=t.profileName,F=t.profilePhoto,E=t.profileUsername,x=t.topicViewerEdge,w=(0,a.I0)(),P=(0,l.r)(),I=P.loading,C=P.viewerId,_=(0,m.P)(),O=_.loading,T=_.inAppBrowser,D=(0,r.H)(),A=D.loading,R=D.value,M=(0,c.v9)((function(e){return e.navigation.referrer})),B=(0,s.PM)();(0,i.useEffect)((function(){if(!(k||A||I||!C||O)){var e=(0,o.RD)({collectionViewerEdge:f,creatorViewerEdge:S,currentUserId:C,inAppBrowser:T,meteringInfo:N,page_type:y,post:h,profile_name:b,profile_photo:F,profile_username:E,referrer:M,referrerSource:B,viewer:R,topicViewerEdge:x});return g&&(e.data.$canonical_url=g),(0,o.Pu)(e),w((0,d.aj)(e)),v&&(w((0,d.QZ)()),w((0,d.Dl)(p))),function(){w((0,d.Uo)())}}}),[k,A,I,C,O])}},24176:(e,n,t)=>{"use strict";t.d(n,{G:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MastodonVerificationLink_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"linkedAccounts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mastodon"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"username"}}]}}]}}]}}]}},90732:(e,n,t)=>{"use strict";t.d(n,{$:()=>l});var i=t(67294),a=t(77355),o=t(50458),l=function(e){var n,t,l=e.user,r=(0,o.eF)(),d=null===(n=l.linkedAccounts)||void 0===n||null===(t=n.mastodon)||void 0===t?void 0:t.username;return d?i.createElement(a.x,{display:"none"},i.createElement("a",{rel:"me",href:"".concat(r,"/@").concat(d)},"Mastodon")):null}},8459:(e,n,t)=>{"use strict";t.d(n,{T:()=>d});var i=t(67294),a=t(6280),o=t(77355),l=t(96370),r=t(29746),d=function(e){var n=e.isDockingEnabled,t=void 0!==n&&n,d=e.undockedBackgroundColor,s=e.maxWidthSize,c=void 0===s?"inset":s,m=e.children,u=e.marginBottom,p=void 0===u?{xs:"10px",sm:"10px",md:"26px",lg:"26px",xl:"26px"}:u,k=(0,a.$)(t),v=k.dockRef,g=k.markerRef,f=k.isStuck;return i.createElement(i.Fragment,null,i.createElement(o.x,{ref:g}),i.createElement(o.x,{tag:"footer",ref:v,display:"flex",alignItems:"center",boxSizing:"content-box",height:(0,r.a)(52),maxHeight:(0,r.a)(52),zIndex:"1",position:t?{xs:"static",sm:"static",md:"sticky",lg:"sticky",xl:"sticky"}:"static",bottom:t?{xs:void 0,sm:void 0,md:"0",lg:"0",xl:"0"}:void 0,backgroundColor:f?"BACKGROUND":d,borderTop:f?{xs:"NONE",sm:"NONE",md:"BASE_LIGHTER",lg:"BASE_LIGHTER",xl:"BASE_LIGHTER"}:"NONE",marginBottom:p},i.createElement(o.x,{flexGrow:"1"},i.createElement(l.P,{size:c},m))))}},39547:(e,n,t)=>{"use strict";t.d(n,{p:()=>h});var i=t(64718),a=t(67294),o=t(32931),l=t(70929),r=t(56804),d=t(75761),s=t(21232),c=t(30020),m=t(21755),u=t(75221),p=t(17583),k=t(319),v=t.n(k),g=t(10654),f=t(51277),S={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"FloatingPostActions_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"allowResponses"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"MultiVote_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuButtonWithNegativeSignal_post"}}]}}].concat(v()(g.x.definitions),v()(f.v.definitions))},N={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FloatingPostActionsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FloatingPostActions_post"}}]}}]}}].concat(v()(S.definitions))},y=t(91743),h=function(e){var n,t,k=e.post,v=e.isSingleColumn,g=a.useContext(s.f).openSidebar,f=(0,p.s)(),S=!f||f===m.j.xl,h=(0,i.a)(N,{variables:{postId:k.id},ssr:!1}),b=h.data,F=h.loading,E=h.error;return F?null:(t=E||null==b||!b.post?k:b.post,a.createElement(o.j,{multiVoteButton:a.createElement(r.S,{post:t,buttonStyle:"SUBTLE_MARGIN",hasDialog:!0,shouldHideClapsText:!0,shouldShowResponsiveLabelText:!0,susiEntry:"clap_footer",buttonColor:"LIGHTER",countScale:"S"}),responsesButton:a.createElement(d.h,{svgSize:"S",responsesCountScale:"S",trackingData:{postId:t.id},responsesCount:(null===(n=t.postResponses)||void 0===n?void 0:n.count)||null,isLimitedState:t.isLimitedState,handleClick:g,countStylesOverride:{marginLeft:"4px"},allowResponses:t.allowResponses,disabledTooltipText:"Responses hidden"}),saveButton:v?a.createElement(l.o,{kind:u.ej.POST,target:t}):a.createElement(c._,{tooltipText:"More",targetDistance:10},a.createElement(y.t,{post:t,hideAddToList:!1,popoverPositioningStrategy:S?"fixed":"absolute",hideOnScroll:!S})),allowResponses:!!t.allowResponses,isSingleColumn:v}))}},1279:(e,n,t)=>{"use strict";t.d(n,{m:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherDescription_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"description"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bio"}}]}}]}}]}},13085:(e,n,t)=>{"use strict";t.d(n,{b:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherFollowingCount_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"socialStats"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followingCount"}},{kind:"Field",name:{kind:"Name",value:"collectionFollowingCount"}}]}},{kind:"Field",name:{kind:"Name",value:"username"}}]}}]}}]}},82405:(e,n,t)=>{"use strict";t.d(n,{F:()=>F});var i=t(63038),a=t.n(i),o=t(21919),l=t(67294),r=t(5977),d=t(77520),s=t(20297),c=t(25550),m=t(25267),u=t(67701),p=t(26350),k=t(50563),v=t(93310),g=t(77355),f=t(47230),S=t(18627),N=t(66411),y=t(92661),h=t(43487),b=t(50458),F=function(e){var n,t=e.buttonSize,i=e.buttonStyleFn,b=e.collection,F=e.post,x=e.simpleLink,w=e.susiEntry,P=void 0===w?"follow_card":w,I=e.preventParentClick,C=(0,h.v9)((function(e){return e.config.authDomain})),_=(0,c.r)().viewerId,O=(0,S.Av)(),T=(0,N.pK)(),D=(0,r.TH)(),A=(0,y.$B)(D.pathname),R=null==A||null===(n=A.route)||void 0===n?void 0:n.name,M=(0,u.gY)(b),B=M.viewerEdge,L=M.loading,j=function(e,n){var t=(0,o.D)(s.e),i=a()(t,1)[0];return l.useCallback((function(){return i({variables:{id:e.id},optimisticResponse:{followCollection:{__typename:"Collection",id:e.id,name:e.name,viewerEdge:{__typename:"CollectionViewerEdge",id:"collectionId:".concat(e.id,"-viewerId:").concat(n),isFollowing:!0}}},update:function(t){t.modify({id:"User:".concat(n),fields:{missionControl:(0,k.im)("followedCollections",!0),followingCollectionConnection:(0,k.Hc)(e.id)}})}})}),[e.id])}(b,_),V=function(e,n){var t=(0,o.D)(s.X),i=a()(t,1)[0];return l.useCallback((function(){return i({variables:{id:e.id},optimisticResponse:{unfollowCollection:{__typename:"Collection",id:e.id,name:e.name,viewerEdge:{__typename:"CollectionViewerEdge",id:"collectionId:".concat(e.id,"-viewerId:").concat(n),isFollowing:!1}}},update:function(e){e.modify({id:"User:".concat(n),fields:{missionControl:(0,k.im)("followedCollections",!1)}})}})}),[e.id])}(b,_),U=l.useCallback((function(e){I&&e.preventDefault(),O.event("collection.followed",{collectionId:b.id,followSource:T}),j()}),[b,I,T,O]),H=l.useCallback((function(e){I&&e.preventDefault(),O.event("collection.unfollowed",{collectionId:b.id,followSource:T}),V()}),[I,T,O]),G=!(null==B||!B.isFollowing),z=i?i(!!G):G?"OBVIOUS":"STRONG";return x?l.createElement(v.r,{onClick:G?H:U},l.createElement(g.x,{display:"flex",flexDirection:"row"},G?"Unfollow publication":"Follow publication")):l.createElement(m.I,null,(function(e){return e?l.createElement(f.z,{size:t,onClick:G?H:U,buttonStyle:z,loading:L},G?"Following":"Follow"):l.createElement(p.R,{collection:b,buttonStyle:G?"OBVIOUS":"STRONG",isButton:!0,buttonSize:"REGULAR",operation:"register",actionUrl:E(C,b,F)||"",susiEntry:P,pageSource:(0,d.x)(R,"register")},G?"Following":"Follow")}))},E=function(e,n,t){return n.slug&&(t&&t.id?(0,b.TA)(e,n.slug,t.id):(0,b.Ll)(e,n.slug))}},20512:(e,n,t)=>{"use strict";t.d(n,{Y4:()=>r,NJ:()=>d,lc:()=>s});var i=t(59713),a=t.n(i),o=t(46696);function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function r(e){var n=e.miroId,t=e.originalWidth,i=e.originalHeight,a=e.focusPercentX,l=e.focusPercentY,r=e.croppedWidth;if(!n)return null;var d=(0,o.vz)({miroId:n,aspectRatio:16/9,croppedWidth:r,originalWidth:t,originalHeight:i,focusPercentX:a,focusPercentY:l}),s=(0,o.vz)({miroId:n,aspectRatio:4/3,croppedWidth:r,originalWidth:t,originalHeight:i,focusPercentX:a,focusPercentY:l}),c=(0,o.vz)({miroId:n,aspectRatio:1,croppedWidth:r,originalWidth:t,originalHeight:i,focusPercentX:a,focusPercentY:l}),m=new Set([d,s,c]);return Array.from(m)}function d(e){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({"@type":"ImageObject"},e)}function s(e){var n=e.id,t=e.originalWidth,i=e.originalHeight;if(!n||!t||!i)return null;var a=Math.min(i,60),l=a/i,r=Math.floor(t*l);return d({width:r,height:a,url:(0,o.W6)({miroId:n,width:r,freezeGifs:!0,strategy:o._S.Resample})})}},90635:(e,n,t)=>{"use strict";t.d(n,{c:()=>Te});var i=t(67294),a=t(27517),o=t(62367),l=t(77355),r=t(31889),d=t(78142),s=/rgba\(([\d]+),\s*([\d]+),\s*([\d]+),\s*([\d]+|[\d]*.[\d]+)\)/,c=function(e){var n,t,a=e.children,o=e.margin,c=(0,r.F)();return i.createElement(i.Fragment,null,i.createElement(l.x,{marginTop:"-240px",background:"linear-gradient(".concat((n=c.backgroundColor,t=n.match(s),t?"rgba(".concat(t[1],", ").concat(t[2],", ").concat(t[3],", 0)"):(0,d.l9)(0)),", ").concat(c.backgroundColor,")"),height:"250px",position:"relative",width:"100%"}),i.createElement(l.x,{backgroundColor:"BACKGROUND"},i.createElement(l.x,{margin:"auto",maxWidth:"760px",sm:{margin:null!=o?o:"0 24px 0"}},a)))},m=t(6443),u=t(43822),p=t(18627),k=t(90924),v=t(43487),g=t(78870),f=t(50458),S=function(e){var n=e.postId,t=e.align,a=e.entityId,o=e.id,r=e.buttonStyle,d=void 0===r?"STRONG":r,s=e.onClick,c=(0,m.H)().value,S=(0,p.Av)(),N=(0,v.v9)((function(e){return e.config.authDomain})),y=null==c?void 0:c.hasPastMemberships,h=(0,g.Rk)((0,f.c5)(N),{subscribeToUserId:a||"",susiEntry:"post_paywall"}),b=i.useCallback((function(){S.event("paywall.upgradeClicked",{postId:n,userId:null==c?void 0:c.id}),null==s||s()}),[n,null==c?void 0:c.id]),F=y?"182px":"104px",E=y?"Resume membership":"Upgrade";return i.createElement(k.M,{source:"upgrade_membership",dimension:"post_limit",sourceProviderData:{postId:n},eventData:{postId:n}},i.createElement(l.x,{display:"flex",textAlign:"center",justifyContent:"left"===t?"flex-start":"center"},i.createElement(u.a,{isButton:!0,onClick:b,buttonStyle:d,width:F,redirectUrl:h,id:o},E)))},N=t(49962),y=t(25735),h=t(14818),b=t(54945),F=t(87691),E=t(14646),x=t(92661);function w(){return(w=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var P=i.createElement("path",{d:"M1 6.25l4 4.5 9-9.5",stroke:"currentColor",strokeWidth:1.5});const I=function(e){return i.createElement("svg",w({width:15,height:12,viewBox:"0 0 15 12",fill:"none"},e),P)};var C=t(17583),_=function(e){return{flexShrink:0,marginRight:"12px",marginTop:"4px","& path":{stroke:e.baseColor.fill.normal}}},O=function(e){var n=e.headerText,t=e.reasonsToUpgrade,a=e.post,r=(0,E.I)(),d=(0,C.s)(),s="xs"===d||"sm"===d,m=(0,i.useMemo)((function(){var e,n=(null===(e=a.viewerEdge.paywall)||void 0===e?void 0:e.creatorSpotlights)||[];return s&&n.length>6?n.filter((function(e){return!e.hideOnSmallScreen})):n}),[s,a.viewerEdge.paywall]),u=(0,o.k)(),p=(0,i.useCallback)((function(){null==u||u.flushLocalAttributes()}),[u]),k=!!(0,y.VB)({name:"enable_plan_options_on_paywall",placeholder:!1}),v=(0,x.qt)("ShowPay",{}),f=i.useCallback((function(e){if(e){var n=(0,g.Rk)(v,{membershipType:e});window.location.assign(n)}}),[]);return i.createElement(c,{margin:"0 -24px"},i.createElement(l.x,{display:"flex",justifyContent:"center",textAlign:"center",sm:{flexDirection:"column"}},i.createElement(l.x,{display:"flex",flexDirection:"column",padding:"32px",marginTop:"32px",backgroundColor:"BASE_LIGHT",sm:{padding:"28px 33px 32px"},textAlign:"left",borderRadius:"4px",maxWidth:"100%"},i.createElement(b.H2,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},n),i.createElement(l.x,{margin:"16px 0 32px"},t.map((function(e,n){return i.createElement(l.x,{display:"flex",alignItems:"flex-start",key:"reason-".concat(n),padding:"3px 0"},i.createElement(I,{className:r(_)}),i.createElement(F.F,{scale:"M",key:e,color:"DARKER"},e))}))),i.createElement(l.x,{display:"flex",justifyContent:"space-between",flexWrap:"wrap"},m.map((function(e){return i.createElement(l.x,{key:e.name,display:"flex",alignItems:"center",flexDirection:"column",flexGrow:"1",flexShrink:"1",flexBasis:s?"33%":"25%",marginBottom:"32px","data-testid":"creator-spotlight"},i.createElement(h.z,{alt:e.name,miroId:e.miroId,diameter:64}),i.createElement(l.x,{marginTop:"8px",textAlign:"center"},i.createElement(F.F,{scale:s?"S":"M",color:"DARKER"},e.name),i.createElement(F.F,{scale:"XS"},e.title),e.company&&i.createElement(F.F,{scale:"XS"},e.company)))}))),k?i.createElement(N.B,{membershipType:void 0,isTrial:!1,onChange:f,excludeMargin:!0}):i.createElement(S,{id:"paywallButton-programming",postId:a.id,align:"center",buttonStyle:"STRONG",onClick:p}))))},T=t(59713),D=t.n(T),A=t(25550),R=t(63038),M=t.n(R),B=t(28655),L=t.n(B),j=t(92471),V=t(32493),U=t(36405),H=t(93717),G=t(18839),z=t(66411),W=t(80872);function Y(){var e=L()(["\n  mutation SendAcctAuthEmailByUserId(\n    $userId: String!\n    $redirect: String\n    $fullName: String\n    $captchaValue: String\n  ) {\n    sendAcctAuthEmailByUserId(\n      userId: $userId\n      redirect: $redirect\n      fullName: $fullName\n      captchaValue: $captchaValue\n    ) {\n      ... on SusiMethod {\n        value\n      }\n      ... on BadRequest {\n        message\n      }\n      ... on FailedChallenge {\n        message\n      }\n      ... on NotFound {\n        message\n      }\n    }\n  }\n"]);return Y=function(){return e},e}var Z=(0,j.Ps)(Y()),q=function(e){var n=e.actionUrl,t=e.children,a=e.onSuccess,o=e.token,l=e.userId,r=(0,p.Av)(),d=!!(0,U.P5)("skip_sign_in_recaptcha"),s=i.useState(!1),c=M()(s,2),m=c[0],u=c[1],k=(0,v.v9)((function(e){return e.navigation.currentLocation})),g=function(){u(!1)},f=(0,z.pK)(),S=(0,z.hp)(),N=n&&o?(0,G.hQ)(k,f,S,n,o):(0,G.hQ)(k,f,S),y=(0,A.r)(),h=y.loading,b=y.error,F=y.viewerId;return h||b?null:i.createElement(V.m,{mutation:Z,onCompleted:function(e){switch(e.sendAcctAuthEmailByUserId.__typename){case"SusiMethod":r.event("site.loginLinkSent",{}),a&&a();break;case"FailedChallenge":r.event("site.loginByEmailCaptchaFailure",{}),u(!1);break;case"BadRequest":case"NotFound":default:g()}},onError:g},(function(e){var n=function(n){(0,W.Zs)(!0,F,l,"Email",!1);var t="medium";r.event("susi.methodClicked",{entryPoint:S,operation:"login",susiMethod:t.toLowerCase(),alternateUserSuggestionShown:!0,alternateUserSuggestionAccountType:t.toLowerCase(),alternateUserSuggestionTargetUserId:l,alternateUserSuggestionSourceUserId:F}),e({variables:{userId:l,redirect:N,captchaValue:n}})};return i.createElement(i.Fragment,null,!d&&i.createElement(H.k,{callback:n,shouldExecuteRecaptcha:m}),t({handleSubmit:function(){return d?n(null):u(!0)}}))}))},$=t(69862),Q=t(43705),X=t(2959),K=t(40980),J=function(e){var n=e.actionUrl,t=e.token,a=e.userSocialLogins,o={actionUrl:n||"",operation:"login",token:t||"",targetUserId:a.userId,alternateUserSuggestion:!0};return i.createElement(K.$,{eventData:{operation:o.operation}},a.google?i.createElement(Q.x,o):a.facebook?i.createElement($.q,o):a.twitter?i.createElement(X.G,o):i.createElement(i.Fragment,null))},ee=t(93310),ne=t(78285);function te(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}var ie=function(e){var n=e.declineSuggestedAccount,t=e.isSocial,o=(0,v.v9)((function(e){return e.navigation.hasRenderedAlternateUserBanner})),l=(0,z.hp)(),r=(0,a.I0)(),d=(0,m.H)(),s=d.loading,c=d.error,u=d.value;if(s||c)return i.createElement(i.Fragment,null);var p=function(e){return e?i.createElement(ee.r,{onClick:function(){return k("SIGNIN_OPTIONS")},linkStyle:"OBVIOUS"},"See all login options"):i.createElement(i.Fragment,null,"Not you?"," ",i.createElement(ee.r,{onClick:function(){return k("SIGNIN_OPTIONS")},linkStyle:"OBVIOUS"},"Sign in")," or ",i.createElement(ee.r,{onClick:function(){return k("SIGNUP_OPTIONS")},linkStyle:"OBVIOUS"},"create an account"))},k=function(e){var t="SIGNIN_OPTIONS"===e?"login":"register";n(),r((0,ne.Pc)(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?te(Object(t),!0).forEach((function(n){D()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):te(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({operation:t,step:e},!!l&&{susiEntry:l})))};return o?p(u):u?i.createElement(ee.r,{onClick:function(){return n()}},"Not me"):p(t)},ae=t(54558),oe=t(47230),le=t(97171);function re(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function de(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?re(Object(t),!0).forEach((function(n){D()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):re(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var se=function(e,n,t){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{withHowToPrefix:!0},a=n?(0,le.J)(n):null;a=a&&a.length<=13?a:null;var o=t?"".concat(a,", read more from ").concat(t," — and everyone else on ").concat(e,"."):"".concat(a,", here's how to read this story — and everything else on ").concat(e,"."),l=i.withHowToPrefix?"How to read":"Read",r=t?"".concat(l," this story from ").concat(t," — and everything else on ").concat(e,"."):"".concat(l," this story — and everything else on ").concat(e,".");return a?o:r},ce=function(e){var n=e.declineSuggestedAccount,t=e.userSocialLogins,o=(0,a.I0)();return i.createElement(z.cW,{source:{susiEntry:"post_paywall"},extendSource:!0},i.createElement(l.x,{display:"flex",sm:{flexDirection:"column"}},i.createElement(l.x,{display:"flex",flexDirection:"row",justifyContent:"center"},t.facebook||t.google||t.twitter?i.createElement(J,{userSocialLogins:t}):i.createElement(q,{onSuccess:function(){return o((0,ne.Pc)({step:"CHECK_YOUR_INBOX",operation:"login",susiEntry:"post_paywall"}))},userId:t.userId},(function(e){var n=e.handleSubmit;return i.createElement(oe.z,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:n},"Send login link")})))),n&&i.createElement(l.x,{marginTop:"10px",marginRight:"5px",sm:{marginTop:"20px"},display:"flex",justifyContent:"center",flexDirection:"column"},i.createElement(F.F,{scale:"M"},i.createElement(ie,{declineSuggestedAccount:n,isSocial:!!t&&!!(t.facebook||t.google||t.twitter)}))))},me=function(e){var n=e.declineSuggestedAccount,t=e.userSocialLogins,a=e.suggestedAccountEventData,o=e.showSuggestedAccount,r=e.postId,d=de(de({},a),{},{postId:r});return i.createElement(k.M,{source:"upgrade_membership",dimension:"post_limit_suggestion",sourceProviderData:{postId:r},eventData:d},i.createElement(l.x,{display:"inline-block",textAlign:"center"},i.createElement(ce,{declineSuggestedAccount:n,showSuggestedAccount:o,userSocialLogins:t}),i.createElement(l.x,{display:"flex",flexDirection:"row",marginTop:"10px",sm:{justifyContent:"center"}},i.createElement(F.F,{scale:"L"},i.createElement(u.a,{eventData:a,linkStyle:"OBVIOUS"},"Learn more about membership")))))},ue=function(e){var n=e.post,t=e.excludePadding,a=void 0!==t&&t,o=(0,v.v9)((function(e){return e.config.productName})),r=(0,m.H)().value,d=(0,A.r)().viewerId,s=n.creator&&n.creator.id,u=(0,y.VB)({name:"enable_members_only_audio",placeholder:!1}),p=(0,C.s)(),k="xs"===p||"sm"===p,f=(0,x.qt)("ShowPay",{}),h=i.useCallback((function(e){if(e){var n=(0,g.Rk)(f,{membershipType:e});window.location.assign(n)}}),[]),E=!!(0,y.VB)({name:"enable_plan_options_on_paywall",placeholder:!1});return i.createElement(c,{margin:"0 -24px"},i.createElement(ae.o,null,(function(e){var t,c=e.loading,m=e.showSuggestedAccount,p=e.declineSuggestedAccount,v=e.userSocialLogins;if(c)return i.createElement(i.Fragment,null);m&&(t={alternateUserSuggestionShown:m,alternateUserSuggestionAccountType:(0,le.S)(v),alternateUserSuggestionTargetUserId:!!v&&v.userId,alternateUserSuggestionSourceUserId:d});var g=E?"0px":"8px";return i.createElement(l.x,{display:"flex",justifyContent:"center",textAlign:"center",sm:{flexDirection:"column"}},i.createElement(l.x,{display:"flex",flexDirection:"column",padding:a?"48px 0 0":"32px",sm:{padding:E?"24px":"28px 16px 32px",textAlign:"center"},backgroundColor:E?"BASE_LIGHT":"NONE"},i.createElement(b.H2,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},m?"Switch to your member account for unlimited reading.":i.createElement(l.x,{textAlign:"left",sm:{marginBottom:"5px",textAlign:"center"}},se(o,r&&r.name,n.creator&&n.creator.name))),i.createElement(F.F,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},color:"DARKER",tag:"div"},!m&&i.createElement(i.Fragment,null,i.createElement(l.x,{marginTop:"16px",marginBottom:"32px",textAlign:"left",sm:{display:"inline-block",textAlign:"center"}},u?"You’ve read all your free member-only stories. Become a member for\n                unlimited access to every story on ".concat(o," and to support the\n                voices you want to hear more from. As a member, you can also listen to\n                stories anytime, anywhere."):"You’ve read all your free member-only stories, become a member to get unlimited access. Your membership fee supports the voices you want to hear more from."),E?i.createElement(N.B,{membershipType:void 0,isTrial:!1,onChange:h,excludeMargin:!0}):i.createElement(S,{postId:n.id,align:k?"center":"left",entityId:s})),i.createElement(l.x,{marginTop:m?"28px":g,marginBottom:E?"0px":"28px",paddingRight:"6px",paddingLeft:"6px",sm:{display:m?"inline-block":"none"}},function(e,n,t){if(n.showSuggestedAccount&&e){var a=e.isMember,o=e.redactedEmailAddress;return i.createElement(i.Fragment,null,"Looks like you're coming from the ",a&&"member ","account"," ",i.createElement("b",null,o)," but you’re signed in as ",i.createElement("b",null,null==t?void 0:t.email),". Switch to your",a?" member account for unlimited access":" account",".")}return null}(v,{showSuggestedAccount:m},r))),!!m&&v&&i.createElement(me,{declineSuggestedAccount:p,userSocialLogins:v,suggestedAccountEventData:t,showSuggestedAccount:m,postId:n.id})))})))},pe=function(e){var n,t=e.post,a=(0,v.v9)((function(e){return e.config.productName})),o=(0,m.H)().value,l=se(a,null==o?void 0:o.name,null===(n=t.creator)||void 0===n?void 0:n.name,{withHowToPrefix:!1});return i.createElement(O,{headerText:l,reasonsToUpgrade:["Dive deeper into the topics that matter to you","Get in-depth articles answering thousands of questions","Achieve your personal and professional goals"],post:t})},ke=function(e){switch(e){case"javascript":return"JavaScript";case"ios-development":return"iOS development";case"android-development":return"Android development";default:return e.replace("-"," ").toLowerCase()}},ve=function(e){var n,t=e.post,a=(0,v.v9)((function(e){return e.config.productName})),o=(0,m.H)().value,l=null===(n=t.primaryTopic)||void 0===n?void 0:n.slug,r=function(e){var n=e?ke(e):"technical";return["Become an expert in your areas of interest","Get in-depth articles answering thousands of ".concat(n," questions"),"Grow your career or build a new one"]}(l),d=function(e,n,t){var i=n?(0,le.J)(n):null;if(i=i&&i.length<=13?i:null,t){var a=ke(t);return i?"".concat(i,", get unlimited access to ").concat(a," stories from industry leaders on ").concat(e,"."):"Get unlimited access to ".concat(a," stories from industry leaders on ").concat(e,".")}return i?"".concat(i,", get unlimited access to stories from industry leaders on ").concat(e,"."):"Get unlimited access to stories from industry leaders on ".concat(e,".")}(a,null==o?void 0:o.name,l);return i.createElement(O,{headerText:d,reasonsToUpgrade:r,post:t})},ge=t(75221),fe=function(e){var n,t=e.post,a=e.excludePadding,o=void 0!==a&&a,l=(0,m.H)().value,r=(0,p.Av)(),d=(0,y.VB)({name:"enable_aspirational_paywall",placeholder:!1}),s=null===(n=t.viewerEdge.paywall)||void 0===n?void 0:n.type,c=s===ge.zB.ASPIRATIONAL;(0,i.useEffect)((function(){r.event("paywall.viewed",{userId:null==l?void 0:l.id}),r.event("experiment.eligible",{experimentId:"7cf742aaa3c8"})}),[]),(0,i.useEffect)((function(){c&&r.event("experiment.eligible",{experimentId:"4dbca4ebaca8"})}),[c]);var u=i.createElement(ue,{post:t,excludePadding:o});switch(s){case ge.zB.PROGRAMMING:return i.createElement(ve,{post:t});case ge.zB.ASPIRATIONAL:return d?i.createElement(pe,{post:t}):u;default:return u}},Se=t(39610),Ne=t(26350),ye=t(28451),he=t(9935),be=t(22923),Fe=t(54935),Ee=t(32442),xe=function(e){var n=e.meterCount,t=e.postId,a=e.susiEntry,o="register",r={meterCount:n,operation:o,postId:t},d=(0,Fe.j)().openModal;return i.createElement(l.x,{display:"flex",flexDirection:"column",textAlign:"center",margin:"62px 0 52px",sm:{flexDirection:"column",margin:"40px 0"}},i.createElement(K.$,{eventData:r},i.createElement(Q.x,{operation:o})),i.createElement(l.x,{marginTop:"10px",sm:{marginTop:"12px"}},i.createElement(K.$,{eventData:r},i.createElement($.q,{operation:o}))),i.createElement(l.x,{marginTop:"10px",sm:{marginTop:"12px"}},i.createElement(K.$,{eventData:r},i.createElement(Ee.R,{goToEmailAuthStep:function(){d({step:"ENTER_EMAIL",susiEntry:a,operation:o})},operation:o}))))},we="post_regwall",Pe=function(e){var n=e.meteringInfo,t=e.post,a=e.onDismiss,o=(0,p.Av)(),r="LOCKED_POST_SOURCE_SYNDICATED"===t.lockedSource,d=(0,v.v9)((function(e){return e.config.productName})),s=null==n?void 0:n.postIds.length,m=(0,A.r)().viewerId,u=(0,be._)(t.id,m),k=(0,v.v9)((function(e){return e.navigation.susiEmail}));(0,i.useEffect)((function(){o.event("meter.viewed",{meterCount:s,postId:t.id,uiType:r?ye.j.SyndicatedRegwall:ye.j.RegWall})}),[]),(0,i.useEffect)((function(){if(s&&u)switch(s){case 2:o.event("dismissible.regwall2.viewed",{postId:t.id});break;case 3:o.event("dismissible.regwall3.viewed",{postId:t.id})}}),[s,u,t.id]);var g=(0,i.useCallback)((function(){a(),o.event("regwall.dismissed",{postId:t.id})}),[a,t.id]);return i.createElement(z.cW,{source:{postId:t.id,susiEntry:we}},i.createElement(c,null,i.createElement(l.x,{display:"flex",textAlign:"center",justifyContent:"center",sm:{textAlign:"center"},flexDirection:"column"},u&&i.createElement(l.x,{display:"flex",justifyContent:"flex-end",position:"relative"},i.createElement(he.P,{size:"LARGE",onClick:g})),i.createElement(l.x,{padding:"48px 56px",sm:{padding:"28px 16px 48px"}},i.createElement(b.H2,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},k?"Check your inbox.":i.createElement(i.Fragment,null,i.createElement(l.x,{display:"none",sm:{display:"block"}},u?"Sign up for ".concat(d):"To keep reading this story, get the free app or log in."),i.createElement(l.x,{display:"block",sm:{display:"none"}},u?"Sign up for ".concat(d):"Read the rest of this story with a free account."))),i.createElement(F.F,{color:"DARKER",scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},tag:"div"},k?i.createElement(i.Fragment,null,i.createElement(l.x,{paddingTop:"12px",paddingBottom:"56px"},"Click the link we sent to ",k," to complete your account setup and continue reading this story."),i.createElement(F.F,{color:"LIGHTER",scale:"M"},"Didn't get the link?"," ",i.createElement(Ne.R,{linkStyle:"OBVIOUS",operation:"register",post:t,susiEntry:we},"Try again"))):i.createElement(i.Fragment,null,u&&i.createElement(l.x,{paddingTop:"32px"},"With a free account you can discover more writing you'll love."),i.createElement(l.x,{display:"none",sm:{display:"block"}},i.createElement(l.x,{margin:"42px 0"},i.createElement(Se.a,{isButton:!0,postId:t.id,appEntry:"regwall",copy:"Read in app"})),i.createElement(l.x,{marginBottom:"-20px"},"Or, continue in mobile web")),i.createElement(xe,{meterCount:null==n?void 0:n.postIds.length,postId:t.id,susiEntry:we}),"Already have an account?"," ",i.createElement(Ne.R,{linkStyle:"OBVIOUS",operation:"login",post:t,susiEntry:we},"Sign in")))))))},Ie=t(61998),Ce=t(49608),_e=t(19535),Oe=t(21927),Te=function(e){var n=e.post,t=e.meteringInfo,o=e.excludePadding,l=n.id,r=n.content.isLockedPreviewOnly,d=(0,p.Av)(),s=(0,A.r)(),c=s.viewerId,m=s.loading,u=(0,a.I0)(),k=(0,Ce.Q)(null!=c?c:""),v=null==t?void 0:t.postIds,g=!(null==v||!v.includes(n.id)),f=1===(null==v?void 0:v.length),S=(0,_e.n)(l,r,f).loading;(0,i.useEffect)((function(){k||!g||f||d.event("experiment.eligible",{experimentId:"18a77ab36d12"})}),[k,g,f]);var N=(0,i.useCallback)((function(){c&&((0,Ie.S)(n.id,c),u((0,Oe.I)({postId:n.id,userId:c||"",shouldShow:!1})))}),[Ie.S,n.id,u,Oe.I,c]);if(!S&&r&&t){if(k)return i.createElement(fe,{post:n,excludePadding:o});if(!m)return i.createElement(Pe,{post:n,meteringInfo:t,onDismiss:N})}return null}},99214:(e,n,t)=>{"use strict";t.d(n,{i:()=>k});var i=t(63038),a=t.n(i),o=t(28655),l=t.n(o),r=t(92471),d=t(21919),s=t(67294),c=t(6443);function m(){var e=l()(["\n  mutation AddCollaboratorMutation($postId: ID!) {\n    addCollaborator(postId: $postId)\n  }\n"]);return m=function(){return e},e}function u(){var e=l()(["\n  fragment AddCollaborator_post on Post {\n    isPublished\n    id\n  }\n"]);return u=function(){return e},e}(0,r.Ps)(u());var p=(0,r.Ps)(m()),k=function(e){var n=(0,c.H)().value,t=(0,d.D)(p,{variables:{postId:e.id}}),i=a()(t,2),o=i[0],l=i[1].called;s.useEffect((function(){e.isPublished||null==n||!n.id||l||o()}),[n])}},75990:(e,n,t)=>{"use strict";t.d(n,{P:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useShowCollectionNewsletterV3Promo_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"showPromo"}}]}}]}}]}},49962:(e,n,t)=>{"use strict";t.d(n,{B:()=>c});var i=t(67294),a=t(66802),o=t(36405),l=t(77355),r=t(18627),d=t(98770),s=t(93661),c=function(e){var n=e.membershipType,t=e.isTrial,c=e.onChange,m=e.excludeMargin,u=void 0!==m&&m,p=(0,r.Av)(),k=(0,o.P5)("is_medium_staff"),v=(0,s.OS)({membershipType:s.FM.Monthly,isLongFormat:!0}),g=(0,s.OS)({membershipType:s.FM.Yearly,isLongFormat:!0}),f=(0,s.OS)({membershipType:s.FM.YearlyCrossout}),S=(0,s.OS)({membershipType:s.FM.YearlyPriceSaved}),N=(0,s.kr)({membershipType:s.FM.YearlyStaff}),y=(0,s.kr)({membershipType:s.FM.YearlyStaffPriceSaved}),h=(0,i.useCallback)((function(e){c(e),p.event("membershipPaymentPage.planSelected",{planType:e})}),[c,p]);return i.createElement(l.x,{marginTop:u?"0px":"48px",marginBottom:u?"0px":"40px",sm:{marginTop:u?"0px":"24px"},display:"flex",flexDirection:{xs:"column",sm:"column",md:"row",lg:"row",xl:"row"}},k&&i.createElement(d.v,{label:"Staff",membershipType:s.FM.YearlyStaff,selected:s.FM.YearlyStaff===n,onChange:h,isTrial:t,price:(0,a.xG)({amount:N.amount,currency:N.currency,isLongFormat:!0}),term:"year",savings:(0,a.xG)({amount:y.amount,currency:y.currency,floatingDigits:[0,0]}),excludeMargin:!0}),i.createElement(d.v,{label:"Monthly",membershipType:s.FM.Monthly,selected:s.FM.Monthly===n,onChange:h,isTrial:t,price:v,term:"month",excludeMargin:!0}),i.createElement(d.v,{label:"Annual",membershipType:s.FM.Yearly,selected:s.FM.Yearly===n,onChange:h,isTrial:t,price:g,term:"year",savings:S,crossoutPrice:f,excludeMargin:!0}))}},98770:(e,n,t)=>{"use strict";t.d(n,{v:()=>v});var i=t(67294),a=t(77355),o=t(47230),l=t(20113),r=t(87691),d=t(14646),s=function(e,n){return n?{backgroundColor:e.colorTokens.background.accent.quaternary,color:e.accentColor.fill.normal}:void 0},c=function(e,n){return function(t){return{flex:1,display:"flex",flexDirection:"column",alignItems:"center",position:"relative",cursor:"pointer",padding:"24px",minHeight:"146px",boxShadow:"0 0 0 ".concat(e?2:1,"px ").concat(e?t.accentColor.fill.normal:t.baseColor.border.lighter),borderRadius:"3px",":hover":{boxShadow:"0 0 0 2px ".concat(t.accentColor.fill.normal)},":not(:last-child)":{marginRight:{xs:void 0,sm:void 0,md:"24px",lg:"24px",xl:"24px"},marginBottom:{xs:"32px",sm:"32px",md:n?"0px":"24px",lg:n?"0px":"24px",xl:n?"0px":"24px"}},"& button":s(t,e),"& button:hover":s(t,e)}}},m="17px",u={display:"block",position:"relative"},p={position:"absolute",top:0,right:0,left:0,width:m,height:m,margin:0,padding:0,opacity:0,cursor:"inherit",zIndex:1},k={textDecoration:"line-through",marginRight:"5px"},v=function(e){var n=e.onChange,t=e.selected,s=void 0!==t&&t,m=e.membershipType,v=e.label,g=e.price,f=e.term,S=e.isTrial,N=void 0!==S&&S,y=e.savings,h=e.crossoutPrice,b=e.excludeMargin,F=void 0!==b&&b,E=(0,d.I)(),x=(0,i.useCallback)((function(e){return n(e.target.value)}),[n]),w=(0,i.useCallback)((function(){return n(m)}),[n,m]);return i.createElement("label",{htmlFor:m,className:E(c(s,F))},i.createElement("div",{className:E(u)},i.createElement("input",{className:E(p),type:"radio",name:"membership-type",required:!0,id:m,value:m,onChange:x,checked:s,"data-testid":"".concat(m,"-radio-button")})),i.createElement(a.x,{flexGrow:"1",textAlign:"center",xs:{display:"flex",width:"100%",justifyContent:"space-between"},sm:{display:"flex",width:"100%",justifyContent:"space-between"}},i.createElement(l.X6,{scale:"S"},v),i.createElement(a.x,{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"24px",marginBottom:"24px",xs:{marginTop:"0",marginBottom:"12px",alignItems:"flex-end"},sm:{marginTop:"0",marginBottom:"12px",alignItems:"flex-end"}},N&&i.createElement(a.x,{marginBottom:"4px"},i.createElement(r.F,{scale:"S",color:"DARKER"},"1 month free, then")),i.createElement(r.F,{scale:"L",color:"DARKER"},h&&i.createElement(r.F,{scale:"L",color:"LIGHTER",tag:"span"},i.createElement("span",{className:E(k)},h)),g,"/",f),y&&i.createElement(a.x,{marginTop:"4px"},i.createElement(r.F,{scale:"M",color:"ACCENT"},"(save ",y,")")))),i.createElement(o.z,{buttonStyle:"STRONG",width:"100%",size:"LARGE",onClick:w,type:"button"},s?"Selected":"Select"))}},78656:(e,n,t)=>{"use strict";t.d(n,{E:()=>N});var i=t(59713),a=t.n(i),o=t(28655),l=t.n(o),r=t(8575),d=t(92471),s=t(67294),c=t(83447),m=t(90833),u=t(77280),p=t(43487),k=t(78870);function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function f(){var e=l()(["\n  fragment PostCanonicalizer_post on Post {\n    mediumUrl\n  }\n"]);return f=function(){return e},e}(0,d.Ps)(f());var S=["blog.coinbase.com","moody-pub.medium.fail"],N=function(e){var n=e.post.mediumUrl,t=e.matchedPath,i=e.children,a=(0,p.v9)((function(e){return e.navigation.currentHash})),o=(0,u.Wd)("postPublishedType"),l=(0,u.Wd)("responsesOpen"),d=(0,u.PM)(),v=(0,u.G1)(),f=(0,p.v9)((function(e){return e.navigation.host})),N=(0,k.mb)();if(!n||N)return i;var y=r.parse(decodeURIComponent(n)),h=g(g(g(g({},d?{source:d}:{}),v?{sk:v}:{}),o?{postPublishedType:o}:{}),l?{responsesOpen:l}:{});return f!==y.host?S.indexOf(f)>-1?s.createElement(c.$,null):s.createElement(m.l,{to:(0,k.Rk)(n,h,a),replace:!0,isMediumApp:!0}):y.path&&t!==y.path?s.createElement(m.l,{to:(0,k.Rk)(y.path,h,a),replace:!0}):i}},6455:(e,n,t)=>{"use strict";t.d(n,{h:()=>x});var i=t(59713),a=t.n(i),o=t(93022),l=t(67294),r=t(70405),d=t(27517),s=t(82492),c=t.n(s),m=t(68254),u=t.n(m),p=t(20512),k=t(46696),v=t(78870),g=t(15085),f=t(50458);function S(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function N(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?S(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var y=(0,d.$j)((function(e){var n=e.config,t=n.productName,i=n.defaultImages,a=n.collectionStructuredData,o=e.navigation;return{currentLocation:o.currentLocation,host:o.host,productName:t,defaultImages:i,collectionStructuredData:a}}))((function(e){var n=e.currentLocation,t=e.host,i=e.post,a=e.postDescription,o=e.productName,d=e.defaultImages,s=e.collectionStructuredData,m=i.collection,S=i.creator,y=i.id,h=i.mediumUrl,b=i.isLocked,F=i.previewImage,E=i.firstPublishedAt,x=i.updatedAt,w=(0,g._t)(i,o),P={id:d.postLogo.imageId,originalWidth:d.postLogo.width,originalHeight:d.postLogo.height},I={id:d.orgLogo.imageId,originalWidth:d.orgLogo.width,originalHeight:d.orgLogo.height},C=m?{"@type":"Organization",name:m.name,url:m.domain||(0,v.l1)(t,(0,f.WG)(m,n)),logo:function(e){if(!e||!e.logo||!e.logo.id)return(0,p.lc)(I);var n=(0,p.lc)(e.logo);return n&&60===n.height&&n.width<=600?n:(0,p.lc)(I)}(m)}:{"@type":"Organization",name:o,url:(0,v.l1)(t,"/"),logo:(0,p.lc)(I)};m&&s&&s[m.id]&&c()(C,s[m.id].data);var _=F&&F.id?(0,p.Y4)(N(N({},F),{},{miroId:F.id,croppedWidth:1200})):(0,p.NJ)({url:(0,k.W6)({miroId:P.id,width:P.originalWidth}),height:P.originalHeight,width:P.originalWidth}),O=a||"",T=b?{isAccessibleForFree:"False",hasPart:{"@type":"WebPageElement",isAccessibleForFree:"False",cssSelector:".meteredContent"}}:{},D=N({"@type":"NewsArticle",image:_,url:h,dateCreated:E&&new Date(E).toISOString(),datePublished:E&&new Date(E).toISOString(),dateModified:x&&new Date(x).toISOString(),headline:w,name:w,description:O,identifier:y,author:S&&S.name&&S.username?{"@type":"Person",name:S.name||S.username,url:(0,f.AW)(S,t)}:null,creator:S&&[S.name],publisher:C,mainEntityOfPage:h},T),A=N(N({},{"@context":"http://schema.org"}),D);return l.createElement(r.ql,null,l.createElement("script",{type:"application/ld+json"},u()(A,{isJSON:!0})))})),h=t(21372),b=t(22680);function F(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function E(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?F(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):F(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var x=(0,d.$j)((function(e){return{authDomain:e.config.authDomain,host:e.navigation.host,productName:e.config.productName}}))((function(e){var n,t,i,a,d=e.authDomain,s=e.productName,c=e.post,m=c.canonicalUrl,u=c.collection,p=c.creator,v=c.id,S=c.latestPublishedAt,N=c.mediumUrl,F=c.previewContent,x=c.socialTitle,w=c.socialDek,P=c.visibility,I=c.isShortform,C="UNLISTED"===P,_=!c.firstPublishedAt,O=null==p?void 0:p.name,T=(0,g.yB)(c),D=c.title||"",A=T.latestTitle||D;if(I){var R=E(E({},c),{},{title:A});i=(0,g.oS)(R,s,T.hasTitleGraf).trim(),a=(0,b.O)(c,T.hasTitleGraf)}else i=(0,g._t)(c,s,T,!0).trim(),a=(0,b.j)(c);var M,B,L,j=w||(null==F?void 0:F.subtitle)||a;if(null!=c&&null!==(n=c.previewImage)&&void 0!==n&&n.id&&!c.isLimitedState){var V=c.previewImage;M=(0,k.vz)({miroId:V.id,aspectRatio:1.9,croppedWidth:V.originalWidth?Math.min(V.originalWidth,1200):1200,originalWidth:V.originalWidth,originalHeight:V.originalHeight,focusPercentX:V.focusPercentX,focusPercentY:V.focusPercentY}),c.previewImage.alt&&(B=c.previewImage.alt)}else if(c.isLimitedState){var U={id:"1*3SjgcTt7wCYYS10ff6-0JQ.png",originalWidth:748,originalHeight:390,focusPercentX:50,focusPercentY:40};M=(0,k.vz)({miroId:U.id,aspectRatio:1.9,croppedWidth:U.originalWidth?Math.min(U.originalWidth,1200):1200,originalWidth:U.originalWidth,originalHeight:U.originalHeight,focusPercentX:U.focusPercentX,focusPercentY:U.focusPercentY}),B="This image was reported as a potential violation of Medium's rules and is under investigation."}null!=p&&p.username&&(L=(0,f.AW)(p,d));var H=(0,f.CK)(v),G=!(null!==(t=(0,g.c_)(c))&&void 0!==t&&t.shouldIndexPost),z=S&&new Date(S).toISOString(),W=(0,h.Vd)(c.readingTime||0),Y=null==p?void 0:p.twitterScreenName,Z=(null==u?void 0:u.twitterUsername)||"Medium",q=null==u?void 0:u.facebookPageId,$=x||D||A;c.isLimitedState&&($="");var Q=c.isLimitedState?"":j,X=(0,l.useMemo)((function(){var e;return l.createElement(r.ql,null,l.createElement("meta",{property:"og:type",content:"article"}),z&&l.createElement("meta",{property:"article:published_time",content:z}),l.createElement("title",null,i),l.createElement("meta",{name:"title",content:i}),l.createElement("meta",{property:"og:title",content:$}),q&&l.createElement("meta",{property:"fb:pages",content:q}),l.createElement("meta",{property:"al:android:url",content:H}),l.createElement("meta",{property:"al:ios:url",content:H}),l.createElement("meta",{property:"al:android:app_name",content:"Medium"}),a&&l.createElement("meta",{name:"description",content:a}),j&&l.createElement("meta",{property:"og:description",content:Q}),l.createElement("meta",{property:"og:url",content:null!=N?N:void 0}),l.createElement("meta",{property:"al:web:url",content:null!=N?N:void 0}),M&&l.createElement("meta",{property:"og:image",content:M}),B&&l.createElement("meta",{property:"og:image:alt",content:B}),L&&l.createElement("meta",{property:"article:author",content:L}),L&&l.createElement("link",{rel:"author",href:L}),O&&l.createElement("meta",{name:"author",content:O}),l.createElement("link",{rel:"canonical",href:null!==(e=m||N)&&void 0!==e?e:void 0}),l.createElement("link",{rel:"alternate",href:(0,f.zi)((0,f.o2)("medium.com",c.id))}),l.createElement("meta",{name:"robots",content:"".concat(G?"noindex":"index",",follow,max-image-preview:large")}),l.createElement("meta",{name:"referrer",content:C||_?"origin":"unsafe-url"}),l.createElement("meta",{property:"twitter:title",content:$}),l.createElement("meta",{name:"twitter:site",content:"@".concat(Z)}),l.createElement("meta",{name:"twitter:app:url:iphone",content:H}),j&&l.createElement("meta",{property:"twitter:description",content:Q}),M&&l.createElement("meta",{name:"twitter:image:src",content:M}),B&&l.createElement("meta",{name:"twitter:image:alt",content:B}),l.createElement("meta",{name:"twitter:card",content:M?"summary_large_image":"summary"}),Y&&l.createElement("meta",{name:"twitter:creator",content:"@".concat(Y)}),l.createElement("meta",{name:"twitter:label1",content:"Reading time"}),l.createElement("meta",{name:"twitter:data1",content:"".concat(W," min read")}),l.createElement("meta",{name:"twitter:tile:template:testing",content:"2"}),M&&l.createElement("meta",{name:"twitter:tile:image",content:M}),B&&l.createElement("meta",{name:"twitter:tile:image:alt",content:B}),l.createElement("meta",{name:"twitter:tile:info1:icon",content:"Person"}),O&&l.createElement("meta",{name:"twitter:tile:info1:text",content:O}),l.createElement("meta",{name:"twitter:tile:info2:icon",content:"Calendar"}),S&&l.createElement("meta",{name:"twitter:tile:info2:text",content:(0,o.Z)(S,"LLL d, yyyy")}),l.createElement("meta",{name:"twitter:cta",content:"Read on Medium"}))}),[i,m,N,M,B,v,x,a,L,O,Y,H,G,S,z]);return l.createElement(l.Fragment,null,X,l.createElement(y,{post:c,postDescription:a}))}))},59966:(e,n,t)=>{"use strict";t.d(n,{x:()=>i,S:()=>a});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostNoteMissingToast_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]},a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostNoteMissingToastQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}},type:{kind:"NamedType",name:{kind:"Name",value:"PostMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"privateNotes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}}]}},67927:(e,n,t)=>{"use strict";t.d(n,{F:()=>k});var i=t(67294),a=t(91743),o=t(1444),l=t(84663),r=t(56804),d=t(17878),s=t(75761),c=t(21232),m=t(6443),u=t(77355),p=t(66411),k=function(e){var n,t=e.post,k=e.socialPopoverPosition,v=void 0===k?"beginning":k,g=i.useContext(c.f).openSidebar,f=!!(0,m.H)().value,S=t.isPublished,N=t.creator,y="clap_footer",h={post:t,source:"post_actions_footer"},b=(null==t||null===(n=t.postResponses)||void 0===n?void 0:n.count)||null;return i.createElement(i.Fragment,null,i.createElement(u.x,{display:"flex",justifyContent:"space-between",print:{display:"none"}},i.createElement(p.cW,{source:{name:"post_actions_footer"}},i.createElement(u.x,{display:"flex",flexDirection:"row",alignItems:"center"},i.createElement(u.x,{maxWidth:"155px"},i.createElement(d.e,null,i.createElement(r.S,{post:t,buttonStyle:"SUBTLE_MARGIN",hasDialog:!0,shouldShowResponsiveLabelText:!0,shouldHideClapsText:!0,susiEntry:y,buttonColor:"LIGHTER",countScale:"S"})),i.createElement(d.s,null,i.createElement(r.S,{post:t,buttonStyle:"SUBTLE_MARGIN",hasDialog:!0,shouldHideClapsText:!0,susiEntry:y,buttonColor:"LIGHTER",countScale:"S"}))),i.createElement(p.cW,{source:{name:"follow_footer",susiEntry:"follow_footer"}},i.createElement(u.x,{display:"flex",marginLeft:"24px"},i.createElement(s.h,{svgSize:"S",trackingData:{postId:t.id},responsesCount:b,allowResponses:t.allowResponses,isLimitedState:t.isLimitedState,handleClick:g,iconStylesOverride:{marginTop:"0px"},countStylesOverride:{marginLeft:"4px",marginTop:"0px"},disabledTooltipText:"Responses hidden"}))))),i.createElement(u.x,{display:"flex",alignItems:"center"},S&&i.createElement(i.Fragment,null,"beginning"===v&&i.createElement(l.I,h),i.createElement(u.x,{flexGrow:"0",marginLeft:"beginning"===v?"20px":void 0,marginRight:"20px"},i.createElement(p.cW,{source:{name:"post_actions_footer"}},i.createElement(o.o,{post:t,susiEntry:"bookmark_footer",buttonStyle:"ICON_SUBTLE"}))),"end"===v&&i.createElement(u.x,{flexGrow:"0",marginRight:"20px"},i.createElement(l.I,h))),t&&N&&f&&i.createElement(a.t,{post:t}))))}},49457:(e,n,t)=>{"use strict";t.d(n,{F:()=>x});var i=t(67294),a=t(17235),o=t(77355),l=t(93310),r=t(30020),d=t(87691),s=t(14646),c=t(53690),m=t(78271),u=t(50344),p=t(8969),k=t(45957),v=function(e){return{fill:e.baseColor.fill.lighter}};function g(e){switch(e){case"PUBLIC_DOMAIN":return"Except where otherwise noted, this work is in the public domain.";case"CC_40_ZERO":return"Except where otherwise noted, this work has been dedicated to the public domain using CC0.";default:return"Except where otherwise noted, this work is licensed under a ".concat(S(e,"title")," license by the author.")}}var f={PUBLIC_DOMAIN:{title:"Public Domain",link:"https://creativecommons.org/publicdomain/mark/1.0/"},CC_40_ZERO:{title:"Creative Commons copyright waiver",link:"http://creativecommons.org/publicdomain/zero/1.0/"},CC_40_BY:{title:"Creative Commons Attribution 4.0 International",link:"http://creativecommons.org/licenses/by/4.0/"},CC_40_BY_ND:{title:"Creative Commons Attribution-NoDerivatives 4.0 International",link:"https://creativecommons.org/licenses/by-nd/4.0/"},CC_40_BY_SA:{title:"Creative Commons Attribution-ShareAlike 4.0 International",link:"https://creativecommons.org/licenses/by-sa/4.0/"},CC_40_BY_NC:{title:"Creative Commons Attribution-NonCommercial 4.0 International",link:"https://creativecommons.org/licenses/by-nc/4.0/"},CC_40_BY_NC_ND:{title:"Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International",link:"https://creativecommons.org/licenses/by-nc-nd/4.0/"},CC_40_BY_NC_SA:{title:"Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International",link:"https://creativecommons.org/licenses/by-nc-sa/4.0/"}};function S(e,n){return f[e][n]}var N=function(e){var n=e.license,t=(0,s.I)();return n?i.createElement(o.x,{display:"inline"},i.createElement(o.x,{display:"inline-block"},i.createElement(d.F,{scale:"M"},i.createElement(r._,{tooltipText:g(n),maxWidth:300},i.createElement(l.r,{disableSourceParam:!0,href:S(n,"link"),linkStyle:"SUBTLE",inline:!0,target:"_blank"},function(e){switch(e){case"PUBLIC_DOMAIN":return"Public domain.";case"CC_40_ZERO":return"No rights reserved";default:return"Some rights reserved"}}(n))))),i.createElement(o.x,{display:"inline-block"},i.createElement(d.F,{scale:"M"},"CC_40_ZERO"===n&&i.createElement("span",null," by the author."),i.createElement("span",{className:t(v),style:{marginLeft:"5px",verticalAlign:"text-bottom"}},function(e){return{CC_40_ZERO:i.createElement(k.Z,null),CC_40_BY:i.createElement(c.Z,null),CC_40_BY_ND:i.createElement(i.Fragment,null,i.createElement(c.Z,null),i.createElement(u.Z,null)),CC_40_BY_SA:i.createElement(i.Fragment,null,i.createElement(c.Z,null),i.createElement(p.Z,null)),CC_40_BY_NC:i.createElement(i.Fragment,null,i.createElement(c.Z,null),i.createElement(m.Z,null)),CC_40_BY_NC_ND:i.createElement(i.Fragment,null,i.createElement(c.Z,null),i.createElement(m.Z,null),i.createElement(u.Z,null)),CC_40_BY_NC_SA:i.createElement(i.Fragment,null,i.createElement(c.Z,null),i.createElement(m.Z,null),i.createElement(p.Z,null)),PUBLIC_DOMAIN:i.createElement(i.Fragment,null)}[e]}(n))))):null},y=t(73279),h=t(96370),b=t(42440),F=function(e){var n=e.post,t=e.marginBottom,l=(null==n?void 0:n.tags)||[];return l.length?i.createElement(o.x,{display:"flex",flexWrap:"wrap","align-items":"flex-start",marginTop:"6px",marginBottom:t},l.map((function(e){return i.createElement(o.x,{display:"flex",marginTop:"8px",key:e.id},i.createElement(a.P,{topic:e}))}))):null},E=function(){return i.createElement(o.x,{padding:"0 8px",display:"inline"},i.createElement(y.O,{display:"inline",scale:"M"}))},x=function(e){var n,t=e.post,a=t.visibility,l=t.license,r="UNLISTED"===a,s=!(!l||"ALL_RIGHTS_RESERVED"===l),c=!(null===(n=t.tags)||void 0===n||!n.length),m=r||s;return c||m?i.createElement(h.P,{size:"app"},i.createElement(F,{post:t,marginBottom:m?"40px":"26px"}),m&&i.createElement(o.x,{marginTop:c?"0px":"12px",marginBottom:"26px"},r&&i.createElement(o.x,{display:"inline"},i.createElement(d.F,{scale:"M",tag:"span"},i.createElement(b.Z,null)," Unlisted")),r&&s&&i.createElement(E,null),s&&i.createElement(N,{license:l}))):null}},45114:(e,n,t)=>{"use strict";t.d(n,{kD:()=>v,T8:()=>g});var i,a,o=t(59713),l=t.n(o),r=t(28959),d="post-view",s="post-read",c="topic-view",m="medium-search",u="external-search",p=(i={},l()(i,d,200),l()(i,s,200),l()(i,c,200),l()(i,m,200),l()(i,u,200),i),k=(a={},l()(a,d,new r.Z("pv")),l()(a,s,new r.Z("pr")),l()(a,c,new r.Z("tv")),l()(a,m,new r.Z("ms")),l()(a,u,new r.Z("es")),a),v=function(e){f(d,e,Date.now())},g=function(e){f(s,e,Date.now())},f=function(e,n,t){var i=k[e];i.getCount()===p[e]&&i.clean();try{i.set(n,t)}catch(e){i.clean()}}},7568:(e,n,t)=>{"use strict";t.d(n,{t:()=>P});var i=t(60672),a=t(67701),o=t(28655),l=t.n(o),r=t(64718);function d(){var e=l()(["\n  query TopicViewerEdge($topicId: ID!) {\n    topic(id: $topicId) {\n      ... on Topic {\n        id\n        viewerEdge {\n          id\n          isFollowing\n        }\n      }\n    }\n  }\n"]);return d=function(){return e},e}var s=(0,t(92471).Ps)(d()),c=t(75880),m=t(43487),u=t(50458),p=t(87757),k=t.n(p),v=t(48926),g=t.n(v),f=t(63038),S=t.n(f),N=t(73145),y=t(67294),h=t(45114),b=t(25550),F=t(49608),E=t(18627),x=t(80872),w=t(15085),P=function(e){var n=e.post,t=e.meteringInfo,o=e.clientViewedContext,l=void 0===o?1:o,d=e.overrideCommonData,p=void 0===d?{}:d;(function(e){var n,t,o=e.post,l=e.meteringInfo,d=(0,m.v9)((function(e){return e.config.authDomain})),p=null==o?void 0:o.id,k=(0,c.Pd)(null==o?void 0:o.creator),v=k.viewerEdge,g=k.loading,f=(0,a.gY)(null==o?void 0:o.collection),S=f.viewerEdge,N=f.loading,y=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(0,r.a)(s,{variables:{topicId:n},ssr:!1,skip:!n}),i=t.loading,a=t.error,o=t.data;return i?{loading:i}:a?{error:a}:{viewerEdge:null==o||null===(e=o.topic)||void 0===e?void 0:e.viewerEdge}}(null==o||null===(n=o.primaryTopic)||void 0===n?void 0:n.id),h=y.viewerEdge,b=y.loading,F=N||g||b;(0,i.e)({data:{canonicalUrl:p&&null!=o&&null!==(t=o.collection)&&void 0!==t&&t.domain?(0,u.o2)(d,p):void 0,creatorViewerEdge:v,collectionViewerEdge:S,meteringInfo:l,post:o||void 0,topicViewerEdge:h},loading:!p||F||!(null!=o&&o.isPublished),show:!0})})({post:n,meteringInfo:t}),function(e){var n=e.post,t=e.clientViewedContext,i=e.overrideCommonData,a=void 0===i?{}:i,o=(0,E.Av)(),l=(0,b.r)(),r=l.loading,d=l.viewerId,s=(0,m.v9)((function(e){return e.client.viewerIsBot})),c=d&&(0,F.Q)(d),u=(null==n?void 0:n.collection)||{},p=u.id,v=u.slug,f=((null==n?void 0:n.content)||{}).validatedShareKey,P=null==n?void 0:n.id,I=y.useState(!1),C=S()(I,2),_=C[0],O=C[1],T=y.useState(null),D=S()(T,2),A=D[0],R=D[1],M=y.useCallback(g()(k().mark((function e(){var n,t,i;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,N.r)();case 2:t=e.sent,i=null!==(n="Unknown"===t.browserName||t.isPrivate)&&void 0!==n?n:null,O(!0),R(i);case 6:case"end":return e.stop()}}),e)}))),[]);y.useEffect((function(){if(!r&&P&&d&&_){if(null!=n&&n.isPublished){c||(n.isLocked?(0,x.yB)():(0,x.B8)());var e=(0,w.c_)(n),i=e.shouldIndexPost,l=e.indexReason;s&&o.event("post.clientBotCrawled",{postId:P,userId:d,userAgent:navigator.userAgent,lastCrawledAt:Date.now(),isIndexable:i,indexReason:l}),o.event("post.clientViewed",{postId:P,collectionId:p,collectionSlug:v,context:t,isFriendLink:!!f,source:"post_page",isIncognitoMode:A,isTruncated:n.content.isLockedPreviewOnly},a)}else o.event("post.draftViewed",{postId:P});c||(0,h.kD)(P)}else _||M()}),[P,d,r,A,M])}({post:n,clientViewedContext:l,overrideCommonData:p})}},97576:(e,n,t)=>{"use strict";t.d(n,{Y:()=>r,l:()=>d});var i=t(319),a=t.n(i),o=t(19945),l=t(89748),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostNextFiveStories_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"pinnedAt"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CardByline_publisher"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CardByline_publisher"}}]}}]}}].concat(a()(l.Gk.definitions))},d={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostNextFiveStoriesQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"authorId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isPublication"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"PaginationLimit"}},defaultValue:{kind:"IntValue",value:"5"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorRecircFeed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"paging"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}]}},{kind:"ObjectField",name:{kind:"Name",value:"authorId"},value:{kind:"Variable",name:{kind:"Name",value:"authorId"}}},{kind:"ObjectField",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}]}}],directives:[{kind:"Directive",name:{kind:"Name",value:"skip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isPublication"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostPreview_post"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"collectionRecircFeed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"paging"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}]}},{kind:"ObjectField",name:{kind:"Name",value:"collectionId"},value:{kind:"Variable",name:{kind:"Name",value:"collectionId"}}},{kind:"ObjectField",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}]}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isPublication"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostPreview_post"}}]}}]}}]}}]}}].concat(a()(o.Cg.definitions))}},48835:(e,n,t)=>{"use strict";t.d(n,{q:()=>k});var i=t(63038),a=t.n(i),o=t(64718),l=t(67294),r=t(27517),d=t(5977),s=t(78285),c=t(77280),m=t(43487),u=t(39202),p=t(59966),k=function(e){var n,t,i,k,v,g=(0,d.TH)().hash,f=null==g||null===(n=g.replace("#",""))||void 0===n?void 0:n.split("-"),S=a()(f,2),N=S[0],y=S[1],h=(0,m.v9)((function(e){return e.navigation.referrer})),b=(0,c.G1)(),F=(0,c.PM)(),E=(0,o.a)(p.S,{variables:{postId:null==e?void 0:e.id,postMeteringOptions:{referrer:h,sk:b,source:F}},ssr:!1,skip:!y}),x=E.loading,w=E.error,P=E.data,I=(null!=P?P:{}).post,C=null==I||null===(t=I.privateNotes)||void 0===t?void 0:t.find((function(e){return(null==e?void 0:e.id)===y})),_=null!==(i=null==I||null===(k=I.content)||void 0===k||null===(v=k.bodyModel)||void 0===v?void 0:v.paragraphs)&&void 0!==i?i:[],O=new Set(_.map((function(e){return e.name})).filter(u.b)),T=!!C&&O.has(N),D=!(x||w||!y||T),A=(0,r.I0)();(0,l.useEffect)((function(){D&&A((0,s.Dx)({duration:"NEXTPAGE",message:"The note you're looking for was deleted."}))}),[D,A,s.Dx])}},14337:(e,n,t)=>{"use strict";t.d(n,{v:()=>r});var i=t(319),a=t.n(i),o=t(84683),l=t(27048),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherAvatar_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionAvatar_collection"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvatar_user"}}]}}]}}].concat(a()(o.d.definitions),a()(l.W.definitions))}},81712:(e,n,t)=>{"use strict";t.d(n,{f:()=>r});var i=t(319),a=t.n(i),o=t(19308),l=t(78693),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherFollowButton_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionFollowButton_collection"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserFollowButton_user"}}]}}]}}].concat(a()(o.I.definitions),a()(l.s.definitions))}},19535:(e,n,t)=>{"use strict";t.d(n,{n:()=>v});var i=t(64718),a=t(25735),o=t(25550),l=t(49608),r=t(51098),d=t(22923),s=t(77280),c=t(43487),m=t(319),u=t.n(m),p=t(94078),k={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostViewerEdgeContentQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}},type:{kind:"NamedType",name:{kind:"Name",value:"PostMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"fullContent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}},{kind:"Field",name:{kind:"Name",value:"validatedShareKey"}},{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBody_bodyModel"}}]}}]}}]}}]}}]}}]}}].concat(u()(p.Pk.definitions))},v=function(){var e,n,t,m,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",p=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],v=arguments.length>2?arguments[2]:void 0,g=(0,c.v9)((function(e){return e.navigation.referrer})),f=null!==(e=(0,s.G1)())&&void 0!==e?e:void 0,S=null!==(n=(0,s.PM)())&&void 0!==n?n:void 0,N={referrer:g,sk:f,source:S},y=(0,o.r)(),h=y.viewerId,b=y.loading,F=(0,l.Q)(null!=h?h:""),E=(0,d._)(u,h),x=(0,a.dd)("enable_dismissible_regwall"),w=x.loading,P=x.value,I=!p;w||!P||b||F||!1!==v||(I=!1!==E);var C=(0,r.a)(),_=C.loading,O=C.shouldShowIncognitoRegwall;!_&&O&&(I=!0);var T=(0,i.a)(k,{variables:{postId:u,postMeteringOptions:N},ssr:!1,skip:!u||I}),D=T.loading,A=T.error,R=T.data,M=null==R||null===(t=R.post)||void 0===t||null===(m=t.viewerEdge)||void 0===m?void 0:m.fullContent;return D||_?{loading:D}:A?{error:A}:{content:M}}},8903:(e,n,t)=>{"use strict";t.d(n,{w:()=>m});var i=t(67294),a=t(27517),o=t(61998),l=t(25735),r=t(25550),d=t(49608),s=t(21927),c=t(22923),m=function(e,n,t){var m=(0,r.r)().viewerId,u=(0,d.Q)(null!=m?m:""),p=(0,c._)(e,m),k=(0,l.dd)("enable_dismissible_regwall"),v=k.loading,g=k.value,f=(0,a.I0)(),S=m&&!u&&!v&&g&&n&&!1===t;return(0,i.useEffect)((function(){t&&(0,o.S)(e,m),S&&void 0===p&&f((0,s.I)({postId:e,userId:m,shouldShow:!t}))}),[e,m,S,p,t,o.S]),!!S}},54558:(e,n,t)=>{"use strict";t.d(n,{o:()=>h});var i=t(28655),a=t.n(i),o=t(59713),l=t.n(o),r=t(63038),d=t.n(r),s=t(92471),c=t(75412),m=t(67294),u=t(6443),p=t(25550),k=t(18627),v=t(66411),g=t(97171),f=t(77280);function S(){var e=a()(["\n  query UserSocialLoginsQuery($userId: String!) {\n    userSocialLogins(userId: $userId) {\n      userId\n      twitter\n      facebook\n      google\n      redactedEmailAddress\n      isMember\n      emailAddress\n      userAvatar {\n        __typename\n        username\n        name\n        imageId\n        mediumMemberAt\n      }\n    }\n  }\n"]);return S=function(){return e},e}function N(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?N(Object(t),!0).forEach((function(n){l()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):N(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var h=function(e){var n=e.children,t=e.postRenderCallback,i=(0,k.Av)(),a=(0,v.hp)(),o=(0,f.PM)(),l=(0,v.P7)(o||""),r=l.userId,s=l.name,S=m.useState({shouldRun:!1,showSuggestedAccount:!1,userSocialLogins:{facebook:!1,google:!1,twitter:!1,redactedEmailAddress:"",emailAddress:"",userAvatar:{__typename:"UserAvatar",username:"",name:"",imageId:"",mediumMemberAt:0},userId:"",isMember:!1}}),N=d()(S,2),h=N[0],F=N[1];m.useEffect((function(){var e=h.shouldRun,n=h.showSuggestedAccount,i=h.userSocialLogins;e&&(null==t||t(E,n,i))}),[h.shouldRun]);var E=(0,u.H)().value,x=(0,p.r)(),w=x.loading,P=x.error,I=x.viewerId;if(w||P)return null;var C=!("email"!==s||E&&E.mediumMemberAt||!r);return C&&r?m.createElement(c.A,{query:b,variables:{userId:r}},(function(e){var o=e.loading,l=e.error,r=e.data,d=(r=void 0===r?{}:r).userSocialLogins,s=!(o||l||!d||E&&!d.isMember||!d.facebook&&!d.google&&!d.twitter&&!d.redactedEmailAddress),c=y({loading:o,showSuggestedAccount:s},s&&{userSocialLogins:d,declineSuggestedAccount:function(){var e=(0,g.S)(d);i.event("susi.suggestNotYou",{entryPoint:a,susiMethod:e,alternateUserSuggestionAccountType:e,alternateUserSuggestionTargetUserId:null==d?void 0:d.userId,alternateUserSuggestionSourceUserId:I})}});return!t||o||h.shouldRun||F({shouldRun:!0,showSuggestedAccount:s,userSocialLogins:d}),(null==n?void 0:n(c))||null})):(t&&!h.shouldRun&&F(y(y({},h),{},{shouldRun:!0})),(null==n?void 0:n({showSuggestedAccount:C,loading:!1}))||null)},b=(0,s.Ps)(S())},10877:(e,n,t)=>{"use strict";t.d(n,{T:()=>O});var i=t(28655),a=t.n(i),o=t(63038),l=t.n(o),r=t(92471),d=t(67294),s=t(6443),c=t(27517),m=t(91583),u=t(77355),p=t(47230),k=t(66227),v=t(73917),g=t(93310),f=t(20113),S=t(87691),N=t(78285),y=t(78142);function h(){return(h=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var b=d.createElement("path",{fill:"#fff",d:"M0 0h49v57H0z"}),F=d.createElement("path",{d:"M45.95 17.53v-.04l-.05-1.55a5.32 5.32 0 0 0-5.04-5.17c-5.8-.32-10.3-2.2-14.13-5.89l-.03-.03a3.26 3.26 0 0 0-4.4 0l-.03.03c-3.84 3.7-8.33 5.57-14.13 5.89-2.79.15-5 2.42-5.04 5.18l-.05 1.54v.1c-.11 5.84-.25 13.12 2.21 19.73 1.36 3.63 3.41 6.79 6.1 9.38 3.07 2.96 7.09 5.3 11.94 6.98a3.74 3.74 0 0 0 2.4 0c4.85-1.68 8.86-4.03 11.93-6.98 2.69-2.6 4.74-5.76 6.1-9.39 2.47-6.63 2.33-13.92 2.22-19.78zm-5 18.77c-2.6 6.96-7.9 11.74-16.23 14.62a.67.67 0 0 1-.45 0c-8.32-2.87-13.63-7.65-16.23-14.61-2.27-6.1-2.14-12.78-2.03-18.67v-.03c.03-.5.04-1.04.05-1.62.02-1.22 1-2.23 2.24-2.3 3.29-.18 6.17-.81 8.83-1.92 2.64-1.1 5-2.67 7.19-4.77.1-.1.25-.1.36 0a23.11 23.11 0 0 0 7.2 4.77 26.27 26.27 0 0 0 8.82 1.92 2.36 2.36 0 0 1 2.24 2.3c0 .58.02 1.12.05 1.62.11 5.9.24 12.59-2.04 18.69z",fill:"#757575"}),E=d.createElement("path",{d:"M24.5 17.76c-7.11 0-12.9 5.4-12.9 12.04 0 6.64 5.79 12.04 12.9 12.04s12.9-5.4 12.9-12.04c0-6.64-5.79-12.04-12.9-12.04zm0 21.25c-5.44 0-9.86-4.13-9.86-9.2 0-5.08 4.42-9.21 9.86-9.21 5.44 0 9.86 4.13 9.86 9.2 0 5.08-4.42 9.2-9.86 9.2z",fill:"#757575"}),x=d.createElement("path",{d:"M28.08 25.1l-5.64 6.12-1.53-1.66c-.56-.6-1.46-.6-2.02 0-.55.6-.55 1.59 0 2.2l2.54 2.75c.28.3.65.45 1.01.45.37 0 .73-.15 1.01-.45l6.65-7.22c.55-.6.55-1.59 0-2.2-.56-.6-1.47-.6-2.02 0z",fill:"#757575"});const w=function(e){return d.createElement("svg",h({width:49,height:57,viewBox:"0 0 49 57",fill:"none"},e),b,F,E,x)};var P=(0,c.$j)()((function(e){var n=e.dispatch,t=e.isVisible,i=e.hide,a="limitedStateInterstitialDialogPopover";return d.createElement(m.V,{isVisible:t,hide:i,withCloseButton:!1,customBackgroundColor:"rgba(255, 255, 255, 0.94)"},d.createElement(u.x,{display:"flex",justifyContent:"center",paddingTop:"100px"},d.createElement(u.x,{height:"550px",width:"900px",background:y.ix,borderRadius:"4px",display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",boxShadow:"0 2px 10px ".concat((0,y.Uy)(.15)),paddingBottom:"14px",md:{width:"600px",height:"auto",padding:"14px 8px"},sm:{width:"95vw !important",padding:"14px 8px"}},d.createElement(u.x,{display:"flex",flexDirection:"column",justifyContent:"center",height:"100%"},d.createElement(u.x,{paddingBottom:"24px"},d.createElement(w,null)),d.createElement(u.x,{paddingBottom:"24px",paddingRight:"24px",paddingLeft:"24px"},d.createElement(f.X6,{scale:"L"},"The following content was reported as a potential violation of Medium’s rules and is under investigation.")),d.createElement(u.x,{padding:"0 0 24px 0"},d.createElement(p.z,{buttonStyle:"BRAND",size:"REGULAR",onClick:function(){i(),n((0,N.Dx)({duration:"FOREVER",toastStyle:"LIMITED_STATE_BANNER"}))}},"I understand and want to proceed anyway"),d.createElement(k.B,null,(function(e){var n=e.isVisible,t=e.toggle,i=e.hide;return d.createElement(v.J,{ariaId:a,isVisible:n,hide:i,display:"block",customZIndex:800,popoverRenderFn:function(){return d.createElement(u.x,{padding:"15px 20px",width:"400px"},d.createElement(S.F,{scale:"S"},"Anyone can publish on Medium, provided the content adheres to Medium’s rules and policies. When Medium is made aware of potential violations, the content is manually evaluated and appropriate action taken. Some features may be disabled while the content is under review."))},placement:"top",targetDistance:15},d.createElement(u.x,{paddingTop:"10px"},d.createElement(g.r,{"aria-controls":a,"aria-expanded":n?"true":"false",onClick:t},d.createElement("u",null,d.createElement(S.F,{scale:"S"},"Why am I seeing this?")))))})))),d.createElement(u.x,{display:"flex",justifyContent:"center"},d.createElement(S.F,{scale:"M"},"View our"," ",d.createElement(g.r,{href:"https://medium.com/policy/medium-rules-30e5502c4eb4",linkStyle:"OBVIOUS",inline:!0},"Rules,")," ",d.createElement(g.r,{href:"https://medium.com/policy/medium-terms-of-service-9db0094a1e0f",linkStyle:"OBVIOUS",inline:!0},"Terms of Service")," ","&"," ",d.createElement(g.r,{href:"https://medium.com/policy/medium-partner-program-terms-fcfe9cf777b8",linkStyle:"OBVIOUS",inline:!0},"Partner Program Terms"))))))})),I=t(14646);function C(){var e=a()(["\n  fragment LimitedStateInterstitial_post on Post {\n    creator {\n      id\n    }\n    isLimitedState\n  }\n"]);return C=function(){return e},e}var _=function(e){return function(){return{filter:e?"blur(10px)":"blur(0)"}}};function O(e){var n=e.post,t=n.creator,i=n.isLimitedState,a=e.children,o=(0,s.H)().value,r=null==o?void 0:o.id,c=(0,I.I)(),m=d.useState(!1),u=l()(m,2),p=u[0],v=u[1];return d.useEffect((function(){v(!0)}),[]),i&&(t&&t.id)!==r?d.createElement(k.B,{initialVisibility:!0},(function(e){var n=e.isVisible,t=e.hide;return d.createElement(d.Fragment,null,d.createElement("div",{className:c(_(n))},a),p&&d.createElement(P,{isVisible:n,hide:t}))})):a}(0,r.Ps)(C())},55193:(e,n,t)=>{"use strict";t.d(n,{v:()=>i,Q:()=>a});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SuspendedBannerLoader_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isSuspended"}}]}}]},a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SuspendedBannerLoader_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isSuspended"}}]}}]}},66018:(e,n,t)=>{"use strict";t.d(n,{Lv:()=>u});var i=t(28655),a=t.n(i),o=t(92471),l=t(67294),r=t(27517),d=t(25735),s=t(78285);function c(){var e=a()(["\n  fragment SuspendedBannerLoader_post on Post {\n    id\n    isSuspended\n  }\n"]);return c=function(){return e},e}function m(){var e=a()(["\n  fragment SuspendedBannerLoader_user on User {\n    id\n    isSuspended\n  }\n"]);return m=function(){return e},e}var u=function(e){var n=e.user,t=e.post,i=e.forceLoad,a=void 0!==i&&i,o=(0,r.I0)(),c=(0,d.VB)({name:"can_view_suspended_content",placeholder:!1})||a;return l.useEffect((function(){c&&(n&&n.isSuspended?o((0,s.Dx)({duration:"NEXTPAGE",toastStyle:"USER_SUSPENDED"})):t&&t.isSuspended&&o((0,s.Dx)({duration:"NEXTPAGE",toastStyle:"POST_SUSPENDED",extraParams:{postId:(null==t?void 0:t.id)||""}})))}),[c]),null};(0,o.Ps)(m()),(0,o.Ps)(c())},79246:(e,n,t)=>{"use strict";t.d(n,{N:()=>m});var i=t(63038),a=t.n(i),o=t(67294),l=t(27517),r=t(54558),d=t(78285),s=t(93537),c=t(98223),m=function(){var e=(0,l.I0)(),n=(0,d.w)(),t=(0,o.useState)("loading"),i=a()(t,2),m=i[0],u=i[1],p=(0,o.useCallback)((function(t,i,a){u(i?"rendered":"not_eligible"),i&&(e((0,s.T)(!0)),n({toastStyle:"ALTERNATE_USER",duration:"FOREVER",extraParams:{userSocialLogins:a}}))}),[n]);return(0,o.useEffect)((function(){e((0,c.e)(!0))}),[]),(0,o.useEffect)((function(){"not_eligible"===m&&e((0,c.e)(!1))}),[m]),o.createElement(r.o,{postRenderCallback:p})}},66149:(e,n,t)=>{"use strict";t.d(n,{Q:()=>f});var i=t(87757),a=t.n(i),o=t(48926),l=t.n(o),r=t(63038),d=t.n(r),s=t(67294),c=t(6443),m=t(66411),u=t(80872),p=t(78285),k=t(77280),v=t(43487),g=t(87498),f=function(){var e=(0,p.w)(),n=s.useState(!0),t=d()(n,2),i=t[0],o=t[1],r=(0,c.H)().value,f=(0,v.p9)((function(e){return e.session.xsrf})),S=(0,k.PM)(),N=(0,m.P7)(S||"").name;s.useEffect((function(){function e(){return(e=l()(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,u.vA)(r.id,f);case 4:n=e.sent,o(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[null==r?void 0:r.id,f]),s.useEffect((function(){null!=r&&r.createdAt&&(new Date).getTime()-r.createdAt>5*g.uD&&!i&&"login"===N&&(e({toastStyle:"SIGN_IN_CONFIRMATION",duration:"FOREVER"}),o(!0),(0,u.oy)(r.id,f))}),[r,i,e,N,f])}},99849:(e,n,t)=>{"use strict";t.d(n,{t:()=>k});var i=t(63038),a=t.n(i),o=t(67294),l=t(27517),r=t(62367),d=t(45114),s=t(18627),c=t(66411),m=t(34135),u=t(78285),p=t(84509);function k(e,n,t){var i=(0,s.Av)(),k=(0,c.pK)(),v=(0,o.useState)(!1),g=a()(v,2),f=g[0],S=g[1],N=(0,l.I0)(),y=(0,r.k)();(0,o.useEffect)((function(){if(!f&&t){var a=function(){if(n.current&&!f){var a=(0,p.L6)(n.current),o=(0,p.tM)(a),l=o.top+o.height,r=(0,p.tM)((0,p.t_)()),s=r.top+r.height;if(!t.content.isLockedPreviewOnly&&s>=l-100&&k.includes("post_page")){S(!0),N((0,u.C2)(!0));var c={source:k,postId:t.id,collectionSlug:t.collection?t.collection.slug:"",sequenceId:t.sequence?t.sequence.sequenceId:""};i.event("post.clientRead",c),y&&(y.setLocalAttribute("latest.post.clientRead.url",window.location.href),c.postId&&y.setLocalAttribute("latest.post.clientRead.postId",c.postId),c.source&&y.setLocalAttribute("latest.post.clientRead.source",c.source)),e||(0,d.T8)(t.id)}}};return m.V6.on("scroll_end",a),function(){m.V6.off("scroll_end",a)}}}),[f,t,y]),(0,o.useEffect)((function(){return function(){N((0,u.C2)(!1))}}),[])}},22923:(e,n,t)=>{"use strict";t.d(n,{_:()=>a});var i=t(43487),a=function(e,n){return(0,i.v9)((function(t){var i;if(n&&t.meter[n])return null===(i=t.meter[n][e])||void 0===i?void 0:i.shouldShowDismissibleRegwall}))}},97849:(e,n,t)=>{"use strict";t.d(n,{i:()=>l,m:()=>r});var i=t(319),a=t.n(i),o=t(32934),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"postMetaDescription_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"seoDescription"}},{kind:"Field",name:{kind:"Name",value:"metaDescription"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"previewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"getPostContentAsString_post"}}]}}].concat(a()(o.bh.definitions))},r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"shortformPostMetaDescription_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"metaDescription"}},{kind:"Field",name:{kind:"Name",value:"seoDescription"}},{kind:"Field",name:{kind:"Name",value:"shortformType"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getPostContentAsString_post"}}]}}].concat(a()(o.bh.definitions))}},22680:(e,n,t)=>{"use strict";t.d(n,{j:()=>l,O:()=>r});var i=t(97217),a=t(15085),o=t(42498),l=function(e){return function(e){var n=e.metaDescription,t=e.seoDescription,i=e.title||"";if(t)return t;if(n)return n;var l=function(e){var n=(0,a.r4)(e,250);return n&&(0,o.N8)(n,200)}(e);if(l.length>150)return l;var r=e.previewContent&&e.previewContent.subtitle||"";if(r.length>140)return r;r.length>0&&(r+=".");var d=(i.length?i+". ":"")+r;if(d.length>140)return d;var s="“".concat(i,"” is published");return e.creator&&e.creator.name&&(s+=" by ".concat(e.creator.name)),e.collection&&e.collection.name&&(s+=" in ".concat(e.collection.name)),"".concat(r," ").concat(s,".")}(e).trim()},r=function(e,n){var t=e.metaDescription,l=e.seoDescription,r=e.shortformType,d=r===i.po.SHORTFORM_TYPE_NOTE||!r;if(l)return l;if(t)return t;if(d&&n){var s=(0,a.r4)(e,350,0);return(0,o.N8)(s,300)}return""}},32934:(e,n,t)=>{"use strict";t.d(n,{bh:()=>o,dm:()=>s,bq:()=>c,Bg:()=>d,Pz:()=>m,HF:()=>u});var i=t(319),a=t.n(i),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"getPostContentAsString_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"mixtapeMetadata"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"href"}}]}}]}}]}}]}}]}}]},l=[{kind:"FragmentDefinition",name:{kind:"Name",value:"appendPostContext_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"sequence"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}],r=[{kind:"FragmentDefinition",name:{kind:"Name",value:"maybeAppendProductName_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"domain"}}]}}],d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"postTitle_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"seoTitle"}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getPostContentAsString_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"appendPostContext_post"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"FragmentSpread",name:{kind:"Name",value:"maybeAppendProductName_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"previewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}}]}}].concat(a()(o.definitions),a()(l),a()(r))},s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"getTitleDetails_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"GetTitleIndexMap_bodyModel"}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"getPostContentAsString_post"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"GetTitleIndexMap_bodyModel"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RichText"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"text"}}]}}]}}]),a()(o.definitions))},c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"getTitleForPost_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"FragmentSpread",name:{kind:"Name",value:"postTitle_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getTitleDetails_post"}}]}}].concat(a()(d.definitions),a()(s.definitions))},m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"shortformPostTitle_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"seoTitle"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getPostContentAsString_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"appendPostContext_post"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"maybeAppendProductName_collection"}}]}}]}}].concat(a()(o.definitions),a()(l),a()(r))},u={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"shouldIndexPost_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"isLimitedState"}},{kind:"Field",name:{kind:"Name",value:"isShortform"}},{kind:"Field",name:{kind:"Name",value:"shortformType"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"curationStatus"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"atsQualifiedAt"}},{kind:"Field",name:{kind:"Name",value:"customDomainState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"live"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",name:{kind:"Name",value:"isSubdomain"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"customDomainState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"live"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",name:{kind:"Name",value:"isSubdomain"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"atsQualifiedAt"}}]}},{kind:"Field",name:{kind:"Name",value:"ptsQualifiedAt"}}]}},{kind:"Field",name:{kind:"Name",value:"noIndex"}},{kind:"Field",name:{kind:"Name",value:"isIndexable"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getPostContentAsString_post"}}]}}].concat(a()(o.definitions))}},15085:(e,n,t)=>{"use strict";t.d(n,{r4:()=>v,yB:()=>g,lO:()=>S,_t:()=>N,oS:()=>y,c_:()=>h});var i=t(59713),a=t.n(i),o=t(93022),l=t(61796),r=t(97217),d=t(44987),s=t(42498);function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function u(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return p(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?p(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,r=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return l=e.done,e},e:function(e){r=!0,o=e},f:function(){try{l||null==t.return||t.return()}finally{if(r)throw o}}}}function p(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function k(e,n){var t,i,a;return null!==(t=n.sequence)&&void 0!==t&&t.title?e+=" - ".concat(n.sequence.title):null!==(i=n.collection)&&void 0!==i&&i.name?e+=" - ".concat(n.collection.name):null!==(a=n.creator)&&void 0!==a&&a.name&&(e+=" - ".concat(n.creator.name)),e}function v(e){var n,t,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{includeMixtapeHref:!1},r=l.includeMixtapeHref,d=(null===(n=e.content)||void 0===n||null===(t=n.bodyModel)||void 0===t?void 0:t.paragraphs)||[],s="",c=u(d);try{for(c.s();!(i=c.n()).done;){var m=i.value,p=m.mixtapeMetadata,k=m.text,v=m.type;if(r&&null!=p&&p.href?s+=s?" ".concat(p.href):p.href:"P"===v&&k&&k.length>o&&(s+=s?" ".concat(k):k),s.length>a)break}}catch(e){c.e(e)}finally{c.f()}return s}function g(e){var n=!1,t="";if(e.content&&e.content.bodyModel&&e.content.bodyModel.paragraphs){var i=e.content.bodyModel.paragraphs,a=(0,l.L)(i).titleIndex;"number"==typeof a&&(t=i[a].text||"",n=!0)}return{hasTitleGraf:n,latestTitle:t}}function f(e,n,t){return null!=t&&t.domain?e:"".concat(e," - ").concat(n)}function S(e,n){var t,i,a,l=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.seoTitle,c=e.title||"",m=(null===(t=e.previewContent)||void 0===t?void 0:t.subtitle)||"";if(r)return(0,d.p)(r,e.collection&&e.collection.name,n);if(!l)return c.length>50?c:c=f(c=k(c,e),n,e.collection);c.length<33&&m&&(m=(0,s.N8)(m,40),c+=". ".concat(m)),null!==(i=e.creator)&&void 0!==i&&i.name&&(c+=" | by ".concat(e.creator.name));var u,p="",v=Date.now()-5184e6;(null!==(a=e.firstPublishedAt)&&void 0!==a?a:0)>=v&&(p=" | ".concat((0,o.Z)(null!==(u=e.firstPublishedAt)&&void 0!==u?u:0,"LLL, yyyy")));var g=e.collection;return g?g.domain?c+="".concat(p," | ").concat(g.name):c+=" | ".concat(g.name).concat(p," | ").concat(n):c+="".concat(p," | ").concat(n),c}function N(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g(e),i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.title||"",o=t.latestTitle||a,l=m(m({},e),{},{title:o});return S(l,n,i).trim()}function y(e,n,t){var i=e.seoTitle,a=e.title||"";return i?(0,d.p)(i,e.collection&&e.collection.name,n):a=f(a=k(a=function(e,n,t){var i=n.shortformType,a=i===r.po.SHORTFORM_TYPE_NOTE||!i;return t||(a?e=v(n,250,0):i===r.po.SHORTFORM_TYPE_LINK&&(e=v(n,250,0,{includeMixtapeHref:!0}))),(0,s.N8)(e,200)}(a,e,t),e),n,e.collection)}function h(e){var n,t,i,a,o,l=e.noIndex,d=e.collection,s=e.curationStatus,c=e.firstPublishedAt,m=e.isLimitedState,u=e.isShortform,p=e.shortformType,k=e.visibility,g=e.isIndexable,f=p===r.po.SHORTFORM_TYPE_NOTE||!p;if(l)return{shouldIndexPost:!1,indexReason:"noIndex is set"};if(!c)return{shouldIndexPost:!1,indexReason:"draft"};if("PUBLIC"!==k&&"LOCKED"!==k)return{shouldIndexPost:!1,indexReason:"unlisted (PUBLIC | LOCKED)"};if(m)return{shouldIndexPost:!1,indexReason:"limited state"};if(u)if(f){if(v(e,10,0).length<=10)return{shouldIndexPost:!1,indexReason:"insufficient content <=10 chars"}}else if(0===v(e,10,0).length)return{shouldIndexPost:!1,indexReason:"shortform with no commentary"};if(g&&c<16347744e5)return{shouldIndexPost:!0,indexReason:"english, has spam score < 0.5 & published before 10/21/2021"};if((null!==(n=null===(t=e.creator)||void 0===t?void 0:t.atsQualifiedAt)&&void 0!==n?n:0)>0||d&&d.ptsQualifiedAt>0)return{shouldIndexPost:!0,indexReason:"author or pub is high-quality"};if(s&&(s===r.Xg.CURATION_STATUS_DISTRIBUTED||s===r.Xg.CURATION_STATUS_DISTRIBUTED_AND_DISABLED))return{shouldIndexPost:!0,indexReason:"curated post"};var S=["DELETED","FAILED","UNSPECIFIED"],N=null==d||null===(i=d.customDomainState)||void 0===i?void 0:i.live,y=null===(a=e.creator)||void 0===a||null===(o=a.customDomainState)||void 0===o?void 0:o.live;return N&&!N.isSubdomain&&!S.includes(N.status)||y&&!y.isSubdomain&&!S.includes(y.status)?{shouldIndexPost:!0,indexReason:"custom domain user or pub"}:{shouldIndexPost:!1,indexReason:"no matching rule"}}},44987:(e,n,t)=>{"use strict";t.d(n,{N:()=>i,p:()=>a});var i=function(e){return e||"Untitled story"},a=function(e,n,t){return n?"".concat(e," | ").concat(n):t?"".concat(e," | ").concat(t):e}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/8908.4e0cfe80.chunk.js.map